import{d as D,a as E,m as I,b as le}from"./vuex.esm-bundler.ccdd8fb3.js";import{W as j,R as ae}from"./WpTable.5b32ebd5.js";import"./default-i18n.3a91e0e5.js";import"./constants.355a3bff.js";import{_ as k,r as l,o as d,h as g,Z as de,w as o,e as c,t as n,d as r,f as i,c as f,n as A,a as p,F as P,i as U,$ as ce,a0 as ue,g as J,k as pe}from"./_plugin-vue_export-helper.49ea0e68.js";import{D as W}from"./index.3cfc26e3.js";import{R as he}from"./RequiresActivation.f3dc11da.js";import"./SaveChanges.04870e44.js";import{C as ge}from"./Index.7c94dfaa.js";import{i as me}from"./helpers.871dba46.js";import{C as H}from"./Card.a7500a15.js";import{C as F}from"./SettingsRow.45faf80a.js";import{S as q,a as _e}from"./Index.15e078e3.js";import{C as B}from"./Tooltip.754dc940.js";import{S as G}from"./Plus.77736cd8.js";import{c as z,C as N,b as fe,B as ve,S as be,a as $e}from"./index.d59f905b.js";import{S as Y,R as ye}from"./Redirects.1dec30d4.js";import{B as we}from"./Checkbox.de9093b7.js";import{G as Z,a as K}from"./Row.87dd14fc.js";import{S as Se}from"./Upload.b16b86ee.js";import{S as X}from"./Download.05381e80.js";import{D as Oe}from"./Date.07cad420.js";import{J as Q}from"./JsonValues.870a4901.js";import{C as x}from"./Index.20fccad8.js";import{C as ee}from"./Table.edad123c.js";import{S as te}from"./Caret.09e548f3.js";import{S as se}from"./Information.4a1e5f23.js";import{S as Re}from"./Redirect.af0ca953.js";import{T as Ve}from"./Slide.dcb3da9d.js";import{B as oe,S as Ce}from"./Php.f78d0e4a.js";import{C as ke}from"./PostTypeOptions.ae57ac8f.js";import{T as Te,a as Le}from"./Row.0bb556fb.js";import"./RequiresUpdate.fe231e49.js";import"./postContent.53eb7ed3.js";import"./cleanForSlug.13f04843.js";import"./isArrayLikeObject.8c985d83.js";import"./html.68197829.js";import"./RequiresActivation.7967cb8d.js";/* empty css             */import"./params.597cd0f5.js";import"./Header.99921ac6.js";import"./LicenseKeyBar.7a027564.js";import"./LogoGear.e7d3761e.js";import"./AnimatedNumber.1f058f2b.js";import"./Logo.834a7c5e.js";import"./Support.c4a8d09f.js";import"./Tabs.2341d6cd.js";import"./TruSeoScore.76897846.js";import"./Exclamation.9bda8f1b.js";import"./Url.c71d5763.js";import"./Gear.a414ea99.js";import"./strings.87c50b42.js";import"./isString.1e7d6c5d.js";import"./ProBadge.b673849c.js";import"./External.1616b132.js";import"./Redirects.c59da225.js";import"./Index.a6f4141a.js";import"./Blur.ef3abea2.js";import"./RequiredPlans.6baa6da5.js";import"./Checkmark.05a656b1.js";import"./HighlightToggle.05571e64.js";import"./Radio.52ad45a2.js";const He={components:{CoreCard:H,CoreSettingsRow:F,SvgRightArrow:q},data(){return{strings:{relocateSite:this.$t.__("Relocate Site",this.$td),descriptionClosed:this.$t.__("Would you like to relocate your entire site to a new domain? Everything will be redirected except WordPress login and admin. Enabling this option will disable any site aliases or canonical settings.",this.$td),description:this.$t.__("By enabling this option you disabled any site aliases or canonical settings. Enter a domain to redirect everything, except WordPress login and admin.",this.$td),oldSiteAddress:this.$t.__("Your old site address",this.$td),newSiteAddress:this.$t.__("Your new site address",this.$td),relocateToDomain:this.$t.__("Relocate to domain",this.$td)+":"}}},computed:{...D("redirects",["redirectOptions"])},methods:{validateUrl:function(e){return e.length===0?null:me(e)}}},Pe={key:0},De={class:"urls aioseo-row"},Ae={class:"relocate-address"},Ue={class:"desc"},Ie={class:"address"},Me={class:"right-arrow"},Ee={class:"relocate-address"},Be={class:"desc"},Ne={class:"address"},Fe={class:"aioseo-section-description"};function ze(e,t,m,$,s,a){const h=l("base-toggle"),v=l("svg-right-arrow"),S=l("base-input"),R=l("core-settings-row"),O=l("core-card");return d(),g(O,{slug:"fullSiteRedirectsRelocate",toggles:e.redirectOptions.fullSite.relocate.enabled,disabled:!e.redirectOptions.fullSite.relocate.enabled},de({header:o(()=>[r(h,{modelValue:e.redirectOptions.fullSite.relocate.enabled,"onUpdate:modelValue":t[0]||(t[0]=b=>e.redirectOptions.fullSite.relocate.enabled=b)},null,8,["modelValue"]),i("span",null,n(s.strings.relocateSite),1)]),default:o(()=>[e.redirectOptions.fullSite.relocate.enabled?(d(),f("div",Pe,[i("div",De,[i("div",Ae,[i("div",Ue,n(s.strings.oldSiteAddress)+":",1),i("div",Ie,n(e.$aioseo.urls.home),1)]),i("div",Me,[r(v)]),i("div",Ee,[i("div",Be,n(s.strings.newSiteAddress)+":",1),i("div",Ne,n(e.redirectOptions.fullSite.relocate.newDomain),1)])]),i("div",Fe,n(s.strings.description),1),r(R,{name:s.strings.relocateToDomain},{content:o(()=>[r(S,{type:"text",size:"medium",modelValue:e.redirectOptions.fullSite.relocate.newDomain,"onUpdate:modelValue":t[1]||(t[1]=b=>e.redirectOptions.fullSite.relocate.newDomain=b),class:A({"aioseo-error":a.validateUrl(e.redirectOptions.fullSite.relocate.newDomain)===!1,"aioseo-active":a.validateUrl(e.redirectOptions.fullSite.relocate.newDomain)===!0}),spellcheck:!1,"append-icon":"circle-check"},null,8,["modelValue","class"])]),_:1},8,["name"])])):p("",!0)]),_:2},[e.redirectOptions.fullSite.relocate.enabled?void 0:{name:"disabled",fn:o(()=>[c(n(s.strings.descriptionClosed),1)]),key:"0"}]),1032,["toggles","disabled"])}const Je=k(He,[["render",ze],["__scopeId","data-v-08792de5"]]),We={aliasedDomain:null},qe={components:{CoreCard:H,CoreTooltip:B,SvgCirclePlus:G,SvgRightArrow:q,SvgTrash:z},data(){return{strings:{siteAliases:this.$t.__("Site Aliases",this.$td),descriptionClosed:this.$t.__("Site aliases are disabled because you have relocated your site to another domain.",this.$td),description:this.$t.__("A site alias is another domain that you want to be redirected to this site. For example, an old domain, or a subdomain. This will redirect all URLs, including WordPress login and admin. You will need to configure your system (DNS and server) to pass requests for these domains to this WordPress install.",this.$td),aliasedDomain:this.$t.__("Aliased Domain",this.$td),alias:this.$t.__("Alias",this.$td),addNew:this.$t.__("Add New",this.$td),delete:this.$t.__("Delete",this.$td),addAliasesMessage:this.$t.__("Add an alias redirect by clicking in 'Add New'.",this.$td)},validRelocationURL:null}},computed:{...D("redirects",["redirectOptions"]),parsedAliases(){return this.redirectOptions.fullSite.aliases.map(e=>e?JSON.parse(e):{})}},methods:{removeRow(e){this.redirectOptions.fullSite.aliases.splice(e,1),this.redirectOptions.fullSite.aliases.length===0&&this.addRow()},addRow(){this.redirectOptions.fullSite.aliases.push(JSON.stringify({...We}))},updatePage(e,t,m){const $=JSON.parse(this.redirectOptions.fullSite.aliases[m]);$[e]=t,this.redirectOptions.fullSite.aliases[m]=JSON.stringify($)}},mounted(){this.redirectOptions.fullSite.aliases.length===0&&this.addRow()}},je={class:"aioseo-section-description"},Ge={class:"redirects-options-table",cellspacing:"0",cellpadding:"0","aria-label":"Site Aliases"},Ye=i("td",null,null,-1),Ze=i("td",null,null,-1),Ke={key:0,class:"even"},Xe={colspan:"4"},Qe={class:"aliased-domain"},xe={class:"arrow-col"},et={class:"actions"},tt={colspan:"4"};function st(e,t,m,$,s,a){const h=l("base-input"),v=l("svg-right-arrow"),S=l("svg-trash"),R=l("core-tooltip"),O=l("svg-circle-plus"),b=l("base-button"),V=l("core-card");return d(),g(V,{slug:"fullSiteRedirectsAliases",disabled:e.redirectOptions.fullSite.relocate.enabled},{header:o(()=>[i("span",null,n(s.strings.siteAliases),1)]),disabled:o(()=>[c(n(s.strings.descriptionClosed),1)]),default:o(()=>[i("div",je,n(s.strings.description),1),i("table",Ge,[i("thead",null,[i("tr",null,[i("td",null,n(s.strings.aliasedDomain),1),Ye,i("td",null,n(s.strings.alias),1),Ze])]),i("tbody",null,[a.parsedAliases.length?p("",!0):(d(),f("tr",Ke,[i("td",Xe,n(s.strings.addAliasesMessage),1)])),(d(!0),f(P,null,U(a.parsedAliases,(_,u)=>(d(),f("tr",{class:A({even:u%2===0}),key:u},[i("td",Qe,[r(h,{size:"medium",modelValue:_.aliasedDomain,"onUpdate:modelValue":[w=>_.aliasedDomain=w,w=>a.updatePage("aliasedDomain",w,u)]},null,8,["modelValue","onUpdate:modelValue"])]),i("td",xe,[i("div",null,[r(v)])]),i("td",null,n(e.$aioseo.urls.home),1),i("td",et,[r(R,{type:"action"},{tooltip:o(()=>[c(n(s.strings.delete),1)]),default:o(()=>[r(S,{onClick:w=>a.removeRow(u)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),i("tfoot",null,[i("tr",null,[i("td",tt,[r(b,{size:"small-table",type:"black",onClick:a.addRow},{default:o(()=>[r(O),c(" "+n(s.strings.addNew),1)]),_:1},8,["onClick"])])])])])]),_:1},8,["disabled"])}const ot=k(qe,[["render",st]]);const it={components:{CoreAlert:N,CoreCard:H,CoreSettingsRow:F,SvgRightArrow:q},data(){return{strings:{canonicalSettings:this.$t.__("Canonical Settings",this.$td),descriptionClosed:this.$t.__("Canonical Settings are disabled because you have relocated your site to another domain.",this.$td),currentSiteAddress:this.$t.__("Your current site address",this.$td),newSiteAddress:this.$t.__("Your new site address",this.$td),httpToHttps:this.$t.__("Redirect from HTTP to HTTPS",this.$td),httpToHttpsDesc:this.$t.__("Force a redirect from HTTP to HTTPS",this.$td),preferredDomain:this.$t.__("Preferred domain",this.$td),configureSiteUrl:this.$t.sprintf(this.$t.__("You'll need to update your Site Address URL to match your new site address. %1$sUpdate Site Address URL%2$s.",this.$td),`<a href="${this.$aioseo.urls.admin.generalSettings}">`,"</a>"),httpsAlert:this.$t.sprintf(this.$t.__("%1$sWarning:%2$s ensure your HTTPS is working before forcing a redirect. %3$s",this.$td),"<strong>","</strong>",this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectCanonicalHttps",!0))},preferredDomainOptions:[{label:this.$t.__("Leave domain as-is",this.$td),value:""},{label:this.$t.__("Add www to domain",this.$td),value:"add-www"},{label:this.$t.__("Remove www from domain",this.$td),value:"remove-www"}]}},computed:{...D("redirects",["redirectOptions"]),canonicalSiteAddress(){let e=this.$aioseo.urls.home;switch(this.redirectOptions.fullSite.canonical.httpToHttps&&(e=e.replace(/^http:/,"https:")),this.redirectOptions.fullSite.canonical.preferredDomain){case"add-www":e=e.match(/:\/\/www./)?e:e.replace(/:\/\//,"://www.");break;case"remove-www":e=e.replace(/:\/\/www./,"://");break}return e},preferredDomainValue(){let e=this.preferredDomainOptions.filter(t=>t.value===this.redirectOptions.fullSite.canonical.preferredDomain);return e||(e=this.preferredDomainOptions.filter(t=>t.value==="")),e}}},rt={key:0},nt={class:"urls aioseo-row"},lt={class:"preview"},at={class:"canonical-address"},dt={class:"desc"},ct={class:"address"},ut={class:"right-arrow"},pt={class:"canonical-address"},ht={class:"desc"},gt={class:"address"},mt={key:0};function _t(e,t,m,$,s,a){const h=l("base-toggle"),v=l("svg-right-arrow"),S=l("core-alert"),R=l("core-settings-row"),O=l("base-select"),b=l("core-card");return d(),g(b,{slug:"fullSiteRedirectsCanonical",toggles:e.redirectOptions.fullSite.canonical.enabled,disabled:e.redirectOptions.fullSite.relocate.enabled},{header:o(()=>[e.redirectOptions.fullSite.relocate.enabled?p("",!0):(d(),g(h,{key:0,modelValue:e.redirectOptions.fullSite.canonical.enabled,"onUpdate:modelValue":t[0]||(t[0]=V=>e.redirectOptions.fullSite.canonical.enabled=V)},null,8,["modelValue"])),i("span",null,n(s.strings.canonicalSettings),1)]),disabled:o(()=>[c(n(s.strings.descriptionClosed),1)]),default:o(()=>[e.redirectOptions.fullSite.canonical.enabled?(d(),f("div",rt,[i("div",nt,[i("div",lt,[i("div",at,[i("div",dt,n(s.strings.currentSiteAddress)+":",1),i("div",ct,n(e.$aioseo.urls.home),1)]),i("div",ut,[r(v)]),i("div",pt,[i("div",ht,n(s.strings.newSiteAddress)+":",1),i("div",gt,n(a.canonicalSiteAddress),1)])]),a.canonicalSiteAddress!==e.$aioseo.urls.home?(d(),f("div",mt,[r(S,{type:"red",innerHTML:s.strings.configureSiteUrl},null,8,["innerHTML"])])):p("",!0)]),r(R,{name:s.strings.httpToHttps,class:"http-to-https"},{content:o(()=>[r(h,{modelValue:e.redirectOptions.fullSite.canonical.httpToHttps,"onUpdate:modelValue":t[1]||(t[1]=V=>e.redirectOptions.fullSite.canonical.httpToHttps=V)},null,8,["modelValue"]),c(" "+n(s.strings.httpToHttpsDesc)+" ",1),e.redirectOptions.fullSite.canonical.httpToHttps?(d(),g(S,{key:0,type:"yellow",innerHTML:s.strings.httpsAlert},null,8,["innerHTML"])):p("",!0)]),_:1},8,["name"]),r(R,{name:s.strings.preferredDomain,align:""},{content:o(()=>[r(O,{size:"large",options:s.preferredDomainOptions,modelValue:a.preferredDomainValue,"onUpdate:modelValue":t[2]||(t[2]=V=>e.redirectOptions.fullSite.canonical.preferredDomain=V.value)},null,8,["options","modelValue"])]),_:1},8,["name"])])):p("",!0)]),_:1},8,["toggles","disabled"])}const ft=k(it,[["render",_t],["__scopeId","data-v-483866eb"]]);const vt={location:"site",header:null,value:null},bt={components:{CoreCard:H,CoreTooltip:B,SvgCirclePlus:G,SvgTrash:z},data(){return{strings:{httpHeaders:this.$t.__("HTTP Headers",this.$td),description:this.$t.__("Site headers are added across your site, including redirects. Redirect headers are only added to redirects.",this.$td),location:this.$t.__("Location",this.$td),header:this.$t.__("Header",this.$td),value:this.$t.__("Value",this.$td),delete:this.$t.__("Delete",this.$td),addHeader:this.$t.__("Add Header",this.$td),addSecurityPresets:this.$t.__("Add Security Presets",this.$td),addCorsPresets:this.$t.__("Add CORS Presets",this.$td),addHeadersMessage:this.$t.__("Add headers by clicking in the options below.",this.$td),headerPlaceholder:this.$t.__("Select a header",this.$td)}}},computed:{...D("redirects",["redirectOptions"]),parsedHeaders(){return this.redirectOptions.fullSite.httpHeaders.map(e=>e?JSON.parse(e):{})},locationOptions(){return[{label:this.$t.__("Site",this.$td),value:this.$t.__("site",this.$td)},{label:this.$t.__("Redirect",this.$td),value:this.$t.__("redirect",this.$td)}]},headerOptions(){const e=this.$constants.HTTP_RESPONSE_HEADERS;return e.find(t=>t.groupLabel===this.$t.__("Custom",this.$td))||e.push({groupLabel:this.$t.__("Custom",this.$td),options:[{label:this.$t.__("Custom",this.$td),value:"custom"}]}),e}},methods:{removeRow(e){this.redirectOptions.fullSite.httpHeaders.splice(e,1),this.redirectOptions.fullSite.httpHeaders.length===0&&this.addRow()},addRow(e,t=!1){e||(e=vt),e=JSON.stringify({...e}),(!t||t&&this.redirectOptions.fullSite.httpHeaders.filter(m=>m===e).length===0)&&this.redirectOptions.fullSite.httpHeaders.push(e)},addRows(e,t=!1){e.forEach(m=>this.addRow(m,t))},updateHeader(e,t,m){const $=JSON.parse(this.redirectOptions.fullSite.httpHeaders[m]);t=typeof t.value<"u"?t.value:t,t=typeof t=="object"&&t.length?t.map(s=>s.value):t,$[e]=t,e==="header"&&($.value=""),this.redirectOptions.fullSite.httpHeaders[m]=JSON.stringify($)},getHeaderValue(e,t,m=!1){let s=JSON.parse(this.redirectOptions.fullSite.httpHeaders[t])[e],a=null;if(m)return s;switch(e){case"location":s=this.locationOptions.find(h=>s===h.value),s||(s=this.locationOptions.find(h=>h.value==="site"));break;case"header":this.$constants.HTTP_RESPONSE_HEADERS.forEach(h=>{const v=h.options.find(S=>s===S.value);v&&(s=v)});break;case"value":a=this.getHeaderValue("header",t),s&&typeof a.options<"u"&&(typeof s=="object"?s=s.map(h=>a.options.find(v=>h===v.value)).filter(h=>!!h):s=a.options.find(h=>s===h.value));break}return s},getHeaderOptions(e){const t=this.getHeaderValue("header",e);return t&&typeof t.options<"u"?t.options:[]},getHeaderMultiple(e){const t=this.getHeaderValue("header",e);return t&&typeof t.multiple<"u"?t.multiple:!1},isHeaderValueCustom(e){return typeof this.getHeaderValue("value",e,!0)=="string"&&this.getHeaderValue("value",e,!0).match(/\[[a-zA-Z0-9_-]+\]/)},addSecurityPresets(){this.addRows([{location:"site",header:"X-Frame-Options",value:"deny"},{location:"site",header:"X-XSS-Protection",value:"1; mode=block"},{location:"site",header:"X-Content-Type-Options",value:"nosniff"},{location:"site",header:"Content-Security-Policy",value:"default-src 'self'; script-src 'unsafe-inline' 'unsafe-eval' http:; style-src 'unsafe-inline' http:; img-src http: data:; font-src http: data:; sandbox allow-forms allow-scripts"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"}],!0)},addCorsPresets(){this.addRows([{location:"site",header:"Access-Control-Allow-Origin",value:"*"},{location:"site",header:"Access-Control-Allow-Credentials",value:"true"},{location:"site",header:"Access-Control-Allow-Methods",value:["GET","POST","OPTIONS"]},{location:"site",header:"Access-Control-Allow-Headers",value:"origin"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"},{location:"site",header:"P3P",value:'CP="CAO PSA OUR"'}],!0)}},mounted(){this.redirectOptions.fullSite.httpHeaders.length===0&&this.addRow()}},$t=e=>(ce("data-v-a567c2a9"),e=e(),ue(),e),yt={class:"aioseo-section-description"},wt={class:"redirects-options-table",cellspacing:"0",cellpadding:"0","aria-label":"HTTP Headers"},St=$t(()=>i("td",null,null,-1)),Ot={key:0,class:"even"},Rt={colspan:"4"},Vt={class:"location"},Ct={class:"httpHeader"},kt={class:"actions"},Tt={colspan:"4"};function Lt(e,t,m,$,s,a){const h=l("base-select"),v=l("base-input"),S=l("svg-trash"),R=l("core-tooltip"),O=l("svg-circle-plus"),b=l("base-button"),V=l("core-card");return d(),g(V,{slug:"fullSiteRedirectsHttpHeaders"},{header:o(()=>[i("span",null,n(s.strings.httpHeaders),1)]),default:o(()=>[i("div",yt,n(s.strings.description),1),i("table",wt,[i("thead",null,[i("tr",null,[i("td",null,n(s.strings.location),1),i("td",null,n(s.strings.header),1),i("td",null,n(s.strings.value),1),St])]),i("tbody",null,[a.parsedHeaders.length?p("",!0):(d(),f("tr",Ot,[i("td",Rt,n(s.strings.addHeadersMessage),1)])),(d(!0),f(P,null,U(a.parsedHeaders,(_,u)=>(d(),f("tr",{class:A({even:u%2===0}),key:u},[i("td",Vt,[r(h,{size:"medium",options:a.locationOptions,modelValue:a.getHeaderValue("location",u),"onUpdate:modelValue":w=>a.updateHeader("location",w,u)},null,8,["options","modelValue","onUpdate:modelValue"])]),i("td",Ct,[a.getHeaderValue("header",u,!0)!=="custom"?(d(),g(h,{key:0,size:"medium",filterable:!0,options:a.headerOptions,"group-label":"groupLabel","group-values":"options",modelValue:a.getHeaderValue("header",u),"onUpdate:modelValue":w=>a.updateHeader("header",w,u),placeholder:s.strings.headerPlaceholder},null,8,["options","modelValue","onUpdate:modelValue","placeholder"])):p("",!0),a.getHeaderValue("header",u,!0)==="custom"?(d(),g(v,{key:1,size:"medium",modelValue:a.getHeaderValue("customHeader",u),"onUpdate:modelValue":w=>a.updateHeader("customHeader",w,u),"append-icon":"circle-close",onAppendIconClick:w=>a.updateHeader("header","",u)},null,8,["modelValue","onUpdate:modelValue","onAppendIconClick"])):p("",!0)]),i("td",{class:A(["value",{custom:a.isHeaderValueCustom(u)}])},[a.getHeaderOptions(u).length?p("",!0):(d(),g(v,{key:0,size:"medium",modelValue:a.getHeaderValue("value",u),"onUpdate:modelValue":w=>a.updateHeader("value",w,u)},null,8,["modelValue","onUpdate:modelValue"])),a.getHeaderOptions(u).length?(d(),g(h,{key:1,size:"medium",filterable:!0,options:a.getHeaderOptions(u),modelValue:a.getHeaderValue("value",u),"onUpdate:modelValue":w=>a.updateHeader("value",w,u),multiple:a.getHeaderMultiple(u)},null,8,["options","modelValue","onUpdate:modelValue","multiple"])):p("",!0),a.isHeaderValueCustom(u)?(d(),g(v,{key:2,size:"medium",modelValue:a.getHeaderValue("customValue",u),"onUpdate:modelValue":w=>a.updateHeader("customValue",w,u)},null,8,["modelValue","onUpdate:modelValue"])):p("",!0)],2),i("td",kt,[r(R,{type:"action"},{tooltip:o(()=>[c(n(s.strings.delete),1)]),default:o(()=>[r(S,{onClick:w=>a.removeRow(u)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),i("tfoot",null,[i("tr",null,[i("td",Tt,[r(b,{size:"small-table",type:"black",onClick:t[0]||(t[0]=_=>a.addRow(null))},{default:o(()=>[r(O),c(" "+n(s.strings.addHeader),1)]),_:1}),r(b,{size:"small-table",type:"black",onClick:a.addSecurityPresets},{default:o(()=>[r(O),c(" "+n(s.strings.addSecurityPresets),1)]),_:1},8,["onClick"]),r(b,{size:"small-table",type:"black",onClick:a.addCorsPresets},{default:o(()=>[r(O),c(" "+n(s.strings.addCorsPresets),1)]),_:1},8,["onClick"])])])])])]),_:1})}const Ht=k(bt,[["render",Lt],["__scopeId","data-v-a567c2a9"]]);const Pt={components:{RelocateSite:Je,SiteAliases:ot,CanonicalSettings:ft,HttpHeaders:Ht,ServerConfigReloadWarning:Y}},Dt={class:"aioseo-full-site-redirects"};function At(e,t,m,$,s,a){const h=l("server-config-reload-warning"),v=l("relocate-site"),S=l("site-aliases"),R=l("canonical-settings"),O=l("http-headers");return d(),f("div",Dt,[r(h),r(v),r(S),r(R),r(O)])}const Ut=k(Pt,[["render",At]]);const It={components:{BaseCheckbox:we,CoreCard:H,GridColumn:Z,GridRow:K,SvgUpload:Se},data(){return{exportingRedirectLogs:!1,exporting404Logs:!1,exportOptions:{},postOptions:{},loading:!1,exportType:{label:this.$t.__("Complete Data (JSON)",this.$td),value:"json"},exportTypes:[{label:this.$t.__("Complete Data (JSON)",this.$td),value:"json"},{label:this.$t.__("Apache Redirects (.htaccess)",this.$td),value:"htaccess"},{label:this.$t.__("Nginx Redirects (.nginx)",this.$td),value:"nginx"}],strings:{exportRedirects:this.$t.__("Export Redirects",this.$td),exportDescription:this.$t.__("Export to JSON, .htaccess or .nginx. The JSON format contains full information (and can be re-imported), while the other formats only contain partial information relavant to that format.",this.$td),allRedirects:this.$t.__("Export All Redirects",this.$td),logs:this.$t.__("Logs",this.$td),exportRedirectLogs:this.$t.__("Export Redirect Logs",this.$td),export404Logs:this.$t.__("Export 404 Logs",this.$td)}}},computed:{...E("redirects",["options"]),settings(){const e=[{value:"webmasterTools",label:this.$t.__("Webmaster Tools",this.$td)},{value:"rssContent",label:this.$t.__("RSS Content",this.$td)},{value:"advanced",label:this.$t.__("Advanced",this.$td)},{value:"searchAppearance",label:this.$t.__("Search Appearance",this.$td)},{value:"social",label:this.$t.__("Social Networks",this.$td)},{value:"sitemap",label:this.$t.__("Sitemaps",this.$td)},{value:"tools",label:this.$t.__("Tools",this.$td)}];return this.$isPro&&e.push({value:"accessControl",label:this.$t.__("Access Control",this.$td)}),!this.isUnlicensed&&this.showImageSeoReset&&e.push({value:"image",label:this.$t.__("Image SEO",this.$td)}),!this.isUnlicensed&&this.showLocalBusinessReset&&e.push({value:"localBusiness",label:this.$t.__("Local Business SEO",this.$td)}),!this.isUnlicensed&&this.showLinkAssistantReset&&e.push({value:"linkAssistant",label:this.$t.__("Link Assistant",this.$td)}),e},canExport(){const e=[];return Object.keys(this.exportOptions).forEach(t=>{e.push(this.exportOptions[t])}),Object.keys(this.postOptions).forEach(t=>{e.push(this.postOptions[t])}),e.some(t=>t)}},methods:{...I("redirects",["exportRedirects","exportLogs"]),processExportRedirects(){const e=[];this.exportOptions.all?this.$constants.REDIRECT_GROUPS.filter(m=>m.value!=="all").forEach(m=>{e.push(m.value)}):Object.keys(this.exportOptions).forEach(m=>{this.exportOptions[m]&&e.push(m)});const t=this.exportType.value;this.loading=!0,this.exportRedirects({groups:e,type:t}).then(m=>{let $=new Blob([m.body.redirects]);t==="json"&&($=new Blob([JSON.stringify(m.body.redirects)],{type:"application/json"})),this.loading=!1,this.exportOptions={},this.postOptions={};const s=document.createElement("a");s.href=URL.createObjectURL($),s.download=`aioseo-export-redirects-${W.now().toFormat("yyyy-MM-dd")}.${t}`,s.click(),URL.revokeObjectURL(s.href)})},processExportLogs(e){this["exporting"+e.charAt(0).toUpperCase()+e.slice(1)+"Logs"]=!0,this.exportLogs(e).then(t=>{this["exporting"+e.charAt(0).toUpperCase()+e.slice(1)+"Logs"]=!1;const m=new Blob([t.body.redirects]),$=document.createElement("a");$.href=URL.createObjectURL(m),$.download=`aioseo-export-redirects-log-${e}-${W.now().toFormat("yyyy-MM-dd")}.log`,$.click(),URL.revokeObjectURL($.href)})}}},Mt={class:"export-redirects aioseo-settings-row"},Et={class:"export-description"},Bt={class:"export-logs-wrapper"},Nt={class:"export-logs"};function Ft(e,t,m,$,s,a){const h=l("svg-upload"),v=l("base-checkbox"),S=l("grid-column"),R=l("grid-row"),O=l("base-select"),b=l("base-button"),V=l("core-card");return d(),g(V,{class:"aioseo-export-redirects",slug:"exportRedirects",toggles:!1,"no-slide":"","header-text":s.strings.exportRedirects},{"header-icon":o(()=>[r(h)]),default:o(()=>[i("div",Mt,[i("div",Et,n(s.strings.exportDescription),1),r(R,null,{default:o(()=>[r(S,{class:"export-logs"},{default:o(()=>[r(v,{size:"medium",modelValue:s.exportOptions.all,"onUpdate:modelValue":t[0]||(t[0]=_=>s.exportOptions.all=_)},{default:o(()=>[c(n(s.strings.allRedirects),1)]),_:1},8,["modelValue"])]),_:1}),(d(!0),f(P,null,U(e.$constants.REDIRECT_GROUPS,(_,u)=>(d(),g(S,{key:u,sm:"12"},{default:o(()=>[s.exportOptions.all?p("",!0):(d(),g(v,{key:0,size:"medium",modelValue:s.exportOptions[_.value],"onUpdate:modelValue":w=>s.exportOptions[_.value]=w},{default:o(()=>[c(n(_.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])),_.value!=="all"&&s.exportOptions.all?(d(),g(v,{key:1,size:"medium",modelValue:!0,disabled:""},{default:o(()=>[c(n(_.label),1)]),_:2},1024)):p("",!0)]),_:2},1024))),128))]),_:1}),r(O,{size:"medium",options:s.exportTypes,modelValue:s.exportType,"onUpdate:modelValue":t[1]||(t[1]=_=>s.exportType=_)},null,8,["options","modelValue"]),r(b,{type:"blue",size:"medium",class:"import",onClick:a.processExportRedirects,disabled:!a.canExport,loading:s.loading},{default:o(()=>[c(n(s.strings.exportRedirects),1)]),_:1},8,["onClick","disabled","loading"])]),i("div",Bt,[i("div",Nt,n(s.strings.logs),1),e.options.logs.redirects.enabled&&e.options.main.method!=="server"?(d(),g(b,{key:0,type:"gray",size:"medium",loading:s.exportingRedirectLogs,onClick:t[2]||(t[2]=_=>a.processExportLogs("redirect"))},{default:o(()=>[c(n(s.strings.exportRedirectLogs),1)]),_:1},8,["loading"])):p("",!0),e.options.logs.log404.enabled?(d(),g(b,{key:1,type:"gray",size:"medium",loading:s.exporting404Logs,onClick:t[3]||(t[3]=_=>a.processExportLogs("404"))},{default:o(()=>[c(n(s.strings.export404Logs),1)]),_:1},8,["loading"])):p("",!0)])]),_:1},8,["header-text"])}const zt=k(It,[["render",Ft]]);const Jt={components:{CoreAlert:N,CoreCard:H,SvgDownload:X},data(){return{inputFile:null,filename:null,file:null,uploadError:!1,uploadSuccess:!1,loading:!1,strings:{importRestoreAioseoRedirects:this.$t.sprintf(this.$t.__("Import Redirects from %1$s File",this.$td),"AIOSEO"),fileUploadPlaceholder:this.$t.__("Import from a JSON file...",this.$td),chooseAFile:this.$t.__("Choose a File",this.$td),fileUploadDescription:this.$t.__("Imported redirects will overwrite existing redirects and will not be merged.",this.$td),import:this.$t.__("Import",this.$td),jsonFileTypeRequired:this.$t.__("A JSON file is required to import redirects.",this.$td),fileUploadedSuccessfully:this.$t.__("Success! Your redirects have been imported.",this.$td),fileUploadFailed:this.$t.__("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",this.$td)}}},computed:{importValidated(){return!!(this.file.type==="application/json"||this.file.name.endsWith(".ini"))}},methods:{...I("redirects",["uploadFile"]),reset(){this.uploadError=!1,this.filename=null,this.file=null,this.inputFile=null},triggerFileUpload(){this.reset(),this.$refs.file.$el.querySelector("input").focus(),this.$refs.file.$el.querySelector("input").click()},submitFile(){this.loading=!0,this.uploadFile({file:this.file,filename:this.filename}).then(()=>{this.reset(),this.uploadSuccess=!0,this.loading=!1}).catch(()=>{this.reset(),this.loading=!1,this.uploadError=this.strings.fileUploadFailed})},handleFileUpload(){this.reset(),this.file=this.$refs.file.$el.querySelector("input").files[0],this.file&&(this.filename=this.file.name,this.file.type!=="application/json"&&(this.uploadError=this.strings.jsonFileTypeRequired))}}},Wt={class:"file-upload"},qt={class:"aioseo-description"};function jt(e,t,m,$,s,a){const h=l("svg-download"),v=l("core-alert"),S=l("base-input"),R=l("base-button"),O=l("core-card");return d(),g(O,{class:"aioseo-redirects-import-aioseo",slug:"importAioseoRedirects",toggles:!1,"no-slide":"","header-text":s.strings.importRestoreAioseoRedirects},{"header-icon":o(()=>[r(h)]),default:o(()=>[s.uploadError?(d(),g(v,{key:0,type:"red",class:"import-error"},{default:o(()=>[c(n(s.uploadError),1)]),_:1})):p("",!0),s.uploadSuccess?(d(),g(v,{key:1,type:"green",class:"import-error"},{default:o(()=>[c(n(s.strings.fileUploadedSuccessfully),1)]),_:1})):p("",!0),i("div",Wt,[r(S,{modelValue:s.filename,"onUpdate:modelValue":t[0]||(t[0]=b=>s.filename=b),size:"medium",onFocus:a.triggerFileUpload,placeholder:s.strings.fileUploadPlaceholder,class:A({"aioseo-error":s.uploadError})},null,8,["modelValue","onFocus","placeholder","class"]),r(R,{type:"black",size:"medium",onClick:a.triggerFileUpload},{default:o(()=>[c(n(s.strings.chooseAFile),1)]),_:1},8,["onClick"])]),r(S,{modelValue:s.inputFile,"onUpdate:modelValue":t[1]||(t[1]=b=>s.inputFile=b),type:"file",onClick:a.reset,onChange:a.handleFileUpload,ref:"file"},null,8,["modelValue","onClick","onChange"]),i("div",qt,n(s.strings.fileUploadDescription),1),r(R,{type:"blue",size:"medium",class:"import",onClick:a.submitFile,disabled:!s.file||!a.importValidated,loading:s.loading},{default:o(()=>[c(n(s.strings.import),1)]),_:1},8,["onClick","disabled","loading"])]),_:1},8,["header-text"])}const Gt=k(Jt,[["render",jt]]);const Yt={components:{CoreAlert:N,CoreCard:H,SvgDownload:X},data(){return{importSuccess:!1,importError:!1,options:{},plugin:null,loading:!1,strings:{importRedirectsFromOtherPlugins:this.$t.__("Import Redirects From Other Plugins",this.$td),importOthersDescription:this.$t.sprintf(this.$t.__("Choose a plugin to import redirects directly into %1$s.",this.$td),"AIOSEO"),selectPlugin:this.$t.__("Select a plugin...",this.$td),import:this.$t.__("Import",this.$td),allRedirects:this.$t.__("All Redirects",this.$td),notInstalled:this.$t.__("not installed",this.$td)}}},watch:{plugin(){this.importSuccess=!1,this.importError=!1,this.options={}}},computed:{plugins(){const e=[];return this.$aioseo.redirects.importers.forEach(t=>{e.push({value:t.slug,label:t.name,canImport:t.canImport,version:t.version,$isDisabled:!t.installed})}),e},importSuccessful(){return this.$t.sprintf(this.$t.__("%1$s was successfully imported!",this.$td),this.plugin.label)},importErrorMessage(){return this.$t.sprintf(this.$t.__("An error occurred while importing %1$s. Please try again.",this.$td),this.plugin.label)}},methods:{...I("redirects",["importPlugins"]),processImportPlugin(){this.importSuccess=!1,this.importError=!1,this.loading=!0;const e=[];this.options.all?this.settings.filter(t=>t.value!=="all").forEach(t=>{e.push(t.value)}):Object.keys(this.options).forEach(t=>{this.options[t]&&e.push(t)}),this.importPlugins([{plugin:this.plugin.value,settings:e}]).then(()=>{this.loading=!1,this.importSuccess=!0,this.options={}}).catch(()=>{this.loading=!1,this.importError=!0,this.options={}})},invalidVersion(e){return this.$t.sprintf(this.$t.__("We do not support importing from the currently installed version of %1$s (%2$s). Please upgrade to the latest version and try again.",this.$td),e.label,e.version)}}},Zt={class:"aioseo-section-description"},Kt={class:"import-plugin-label"},Xt={class:"plugin-label"},Qt={key:0,class:"plugin-status"};function xt(e,t,m,$,s,a){const h=l("svg-download"),v=l("core-alert"),S=l("base-select"),R=l("base-button"),O=l("core-card");return d(),g(O,{id:"aioseo-redirects-import-others",class:"aioseo-redirects-import-others",slug:"importOtherPluginsRedirects",toggles:!1,"no-slide":"","header-text":s.strings.importRedirectsFromOtherPlugins},{"header-icon":o(()=>[r(h)]),default:o(()=>[i("div",Zt,n(s.strings.importOthersDescription),1),s.importSuccess?(d(),g(v,{key:0,class:"import-success",type:"green"},{default:o(()=>[c(n(a.importSuccessful),1)]),_:1})):p("",!0),s.importError?(d(),g(v,{key:1,class:"import-error",type:"red"},{default:o(()=>[c(n(a.importErrorMessage),1)]),_:1})):p("",!0),r(S,{size:"medium",modelValue:s.plugin,"onUpdate:modelValue":t[0]||(t[0]=b=>s.plugin=b),options:a.plugins,placeholder:s.strings.selectPlugin},{option:o(({option:b})=>[i("div",Kt,[i("span",Xt,n(b.label),1),b.$isDisabled?(d(),f("span",Qt,n(s.strings.notInstalled),1)):p("",!0)])]),_:1},8,["modelValue","options","placeholder"]),r(R,{type:"blue",size:"medium",class:"import",onClick:a.processImportPlugin,disabled:!s.plugin,loading:s.loading},{default:o(()=>[c(n(s.strings.import),1)]),_:1},8,["onClick","disabled","loading"])]),_:1},8,["header-text"])}const es=k(Yt,[["render",xt]]),ts={components:{ExportRedirects:zt,GridColumn:Z,GridRow:K,ImportAioseo:Gt,ImportOthers:es}},ss={class:"aioseo-redirects-import-export"};function os(e,t,m,$,s,a){const h=l("import-aioseo"),v=l("import-others"),S=l("grid-column"),R=l("export-redirects"),O=l("grid-row");return d(),f("div",ss,[r(O,null,{default:o(()=>[r(S,{md:"6"},{default:o(()=>[r(h),r(v)]),_:1}),r(S,{md:"6"},{default:o(()=>[r(R)]),_:1})]),_:1})])}const is=k(ts,[["render",os]]),ie={mixins:[Q,Oe],data(){return{orderBy:"last_accessed",activeRow:null,logUrls:[],deletingLog:!1,showDeleteModal:!1,shouldDeleteLog:null,strings:{lastIp:this.$t.__("Last IP",this.$td),headers:this.$t.__("Headers",this.$td),at:this.$t.__("at",this.$td),additionalInfo:this.$t.__("Additional Info",this.$td),delete:this.$t.__("Delete",this.$td),areYouSureDeleteLog:this.$t.__("Are you sure you want to delete this record?",this.$td),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$td),yesDeleteLog:this.$t.__("Yes, I want to delete this record",this.$td),noChangedMind:this.$t.__("No, I changed my mind",this.$td),url:this.$t.__("URL",this.$td),hits:this.$t.__("Hits",this.$td),lastAccessed:this.$t.__("Last Accessed",this.$td),referrers:this.$t.__("Referrers",this.$td)}}},computed:{...E("redirects",["filters","totals","options","sort","sortDir"])},methods:{...I("redirects",{fetchData:"fetchLogs",deleteLog:"deleteLog"}),...le("redirects",["updateSort","updateSortDir"]),showInfo(e){this.activeRow=e},getHeaderInfo(e){const t=JSON.parse(e.request_data);return t.headers?t.headers:null},processDeleteLog(){if(this.deletingLog=!0,Array.isArray(this.shouldDeleteLog))return this.deleteLog({slug:this.slug,urls:this.shouldDeleteLog}).then(()=>{this.deletingLog=!1,this.showDeleteModal=!1,this.shouldDeleteLog=null,this.refreshTable()});this.deleteLog({slug:this.slug,urls:[this.shouldDeleteLog]}).then(()=>{this.deletingLog=!1,this.showDeleteModal=!1,this.shouldDeleteLog=null,this.refreshTable()})},processBulkAction({action:e,selectedRows:t}){if(t.length){if(e==="delete"){this.shouldDeleteLog=t,this.showDeleteModal=!0;return}this.logUrls=t}},processChangeItemsPerPage(e){this.pageNumber=1,this.wpTableLoading=!0,this.changeItemsPerPage({slug:this.slug==="logs"?"redirectLogs":"redirect404Logs",value:e}).then(()=>this.processFetchLogs(e)).then(()=>this.wpTableLoading=!1)},processFetchLogs(e){const t=this.slug==="logs"?this.$aioseo.settings.tablePagination.redirectLogs:this.$aioseo.settings.tablePagination.redirect404Logs;return e=e||t,this.fetchLogs({slug:this.slug,orderBy:this.orderBy,orderDir:this.orderDir,limit:e||t,offset:this.pageNumber===1?0:(this.pageNumber-1)*e,searchTerm:this.searchTerm,filter:this.filter})},sqlDateToLogFormat(e,t){return t?this.dateSqlToLocalRelative(e):this.dateSqlToLocal(e,"MMMM d, yyyy")+" "+this.strings.at+" "+this.dateSqlToLocal(e,"h:mm a")}}};const rs={components:{CoreModal:x,CoreTooltip:B,CoreWpTable:ee,SvgClose:te,SvgCircleInformation:se,SvgTrash:z},mixins:[ie,j],data(){return{tableId:"aioseo-redirects-logs-wp-table",slug:"logs",changeItemsPerPageSlug:"redirectLogs",bulkOptions:[{label:this.$t.__("Delete",this.$td),value:"delete"}]}},watch:{logs:{deep:!0,handler(){this.wpTableKey+=1}}},computed:{...D("redirects",["logs"]),...E("redirects",["lateRefresh"]),columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.orderBy==="last_accessed"?this.orderDir:"asc",sorted:this.orderBy==="last_accessed"},{slug:"actions",label:"",width:"65px"}]}},methods:{...I("redirects",["setLateRefresh"]),maybeDeleteLog(e){const t=this.logs.find((m,$)=>$===e);t&&(this.showDeleteModal=!0,this.shouldDeleteLog=t.url)}},mounted(){this.lateRefresh.logs&&(this.refreshTable(),this.setLateRefresh({value:!1,type:"logs"}))}},ns={class:"aioseo-redirects-logs"},ls={class:"actions-wrapper"},as={class:"aioseo-modal-body"},ds=["innerHTML"],cs={class:"aioseo-modal-body info"},us={key:0},ps={key:1},hs={"aria-label":"Logs",class:"header-table"},gs={key:2},ms={"aria-label":"Logs",class:"header-table"};function _s(e,t,m,$,s,a){const h=l("svg-circle-information"),v=l("core-tooltip"),S=l("svg-trash"),R=l("core-wp-table"),O=l("svg-close"),b=l("base-button"),V=l("core-modal");return d(),f("div",ns,[(d(),g(R,{id:s.tableId,"bulk-options":s.bulkOptions,columns:a.columns,filters:[],"initial-items-per-page":e.$aioseo.settings.tablePagination.redirectLogs,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.logs,"show-search":!0,totals:e.totals.logs,"show-items-per-page":"",onPaginate:e.processPagination,onProcessBulkAction:e.processBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:e.processSearch,onSortColumn:e.processSort},{last_accessed:o(({column:_})=>[c(n(e.sqlDateToLogFormat(_,!0)),1)]),actions:o(({index:_,row:u})=>[i("div",ls,[r(v,{type:"action"},{tooltip:o(()=>[c(n(e.strings.additionalInfo),1)]),default:o(()=>[r(h,{class:"log-info",onClick:w=>e.showInfo(u)},null,8,["onClick"])]),_:2},1024),r(v,{type:"action"},{tooltip:o(()=>[c(n(e.strings.delete),1)]),default:o(()=>[r(S,{class:"remove-log",onClick:w=>a.maybeDeleteLog(_)},null,8,["onClick"])]),_:2},1024)])]),_:1},8,["id","bulk-options","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),e.showDeleteModal?(d(),g(V,{key:0,"no-header":"",onClose:e.showDeleteModal},{body:o(()=>[i("div",as,[i("button",{class:"close",onClick:t[1]||(t[1]=J(_=>e.showDeleteModal=!1,["stop"]))},[r(O,{onClick:t[0]||(t[0]=_=>e.showDeleteModal=!1)})]),i("h3",null,n(e.strings.areYouSureDeleteLog),1),i("div",{class:"reset-description",innerHTML:e.strings.actionCannotBeUndone},null,8,ds),r(b,{type:"blue",size:"medium",onClick:e.processDeleteLog,loading:e.deletingLog},{default:o(()=>[c(n(e.strings.yesDeleteLog),1)]),_:1},8,["onClick","loading"]),r(b,{type:"gray",size:"medium",onClick:t[2]||(t[2]=_=>e.showDeleteModal=!1)},{default:o(()=>[c(n(e.strings.noChangedMind),1)]),_:1})])]),_:1},8,["onClose"])):p("",!0),e.activeRow?(d(),g(V,{key:1,onClose:t[3]||(t[3]=_=>e.activeRow=null)},{headerTitle:o(()=>[c(n(e.strings.additionalInfo),1)]),body:o(()=>[i("div",cs,[i("div",null,[i("strong",null,n(e.strings.url)+":",1),c(" "+n(e.activeRow.url),1)]),i("div",null,[i("strong",null,n(e.strings.hits)+":",1),c(" "+n(e.activeRow.hits),1)]),i("div",null,[i("strong",null,n(e.strings.lastAccessed)+":",1),c(" "+n(e.sqlDateToLogFormat(e.activeRow.last_accessed)),1)]),e.activeRow.ip?(d(),f("div",us,[i("strong",null,n(e.strings.lastIp)+":",1),c(),i("code",null,n(e.activeRow.ip),1)])):p("",!0),e.activeRow.referrers.length?(d(),f("div",ps,[i("strong",null,n(e.strings.referrers)+":",1),i("table",hs,[(d(!0),f(P,null,U(e.activeRow.referrers,(_,u)=>(d(),f("tr",{key:u},[i("td",null,n(_),1)]))),128))])])):p("",!0),e.getHeaderInfo(e.activeRow)?(d(),f("div",gs,[i("strong",null,n(e.strings.headers)+":",1),i("table",ms,[(d(!0),f(P,null,U(e.getHeaderInfo(e.activeRow),(_,u)=>(d(),f("tr",{key:u},[i("td",null,[i("strong",null,n(u)+":",1)]),i("td",null,n(_),1)]))),128))])])):p("",!0)])]),_:1})):p("",!0)])}const fs=k(rs,[["render",_s]]);const vs={components:{CoreAddRedirection:_e,CoreCard:H,CoreModal:x,CoreTooltip:B,CoreWpTable:ee,SvgClose:te,SvgCircleInformation:se,SvgRedirect:Re,SvgTrash:z,TransitionSlide:Ve},mixins:[ie,j],data(){return{tableId:"aioseo-redirects-404-logs-wp-table",changeItemsPerPageSlug:"redirect404Logs",slug:"404",redirect404UrlsKey:1,showBulkAddRedirections:!1,bulkOptions:[{label:this.$t.__("Add Redirects",this.$td),value:"add-redirects"},{label:this.$t.__("Delete",this.$td),value:"delete"}],strings:{addRedirect:this.$t.__("Add Redirect",this.$td),addNewRedirections:this.$t.__("Add New Redirections",this.$td)}}},watch:{logs404:{deep:!0,handler(){this.wpTableKey+=1}}},computed:{...D("redirects",["logs404"]),...E("redirects",["lateRefresh"]),columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.orderBy==="last_accessed"?this.orderDir:"asc",sorted:this.orderBy==="last_accessed"},{slug:"redirect",label:this.$t.__("Redirect",this.$td),width:"120px"},{slug:"actions",label:"",width:"65px"}]},get404RedirectUrls(){return this.logUrls.map(e=>({url:e,errors:[],warnings:[]}))}},methods:{...I("redirects",["setLateRefresh"]),addedRedirect(){this.processPagination(this.$refs.table.pageNumber),this.showBulkAddRedirections=!1},maybeDelete404(e){const t=this.logs404.find((m,$)=>$===e);t&&(this.showDeleteModal=!0,this.shouldDeleteLog=t.url)},beginProcessBulkAction(e){this.processBulkAction(e),e.action==="add-redirects"&&(this.showBulkAddRedirections=!0,this.redirect404UrlsKey+=1)}},mounted(){this.lateRefresh.logs404&&(this.refreshTable(),this.setLateRefresh({value:!1,type:"logs404"}))}},bs={class:"aioseo-redirects-404-logs"},$s={class:"add-bulk-redirects-wrapper"},ys=["onClick"],ws={class:"actions-404-wrapper"},Ss={class:"aioseo-modal-body"},Os=["innerHTML"],Rs={class:"aioseo-modal-body info"},Vs={key:0},Cs={key:1},ks={"aria-label":"Logs",class:"header-table"},Ts={key:2},Ls={"aria-label":"404 Logs",class:"header-table"};function Hs(e,t,m,$,s,a){const h=l("core-add-redirection"),v=l("core-card"),S=l("transition-slide"),R=l("svg-redirect"),O=l("svg-circle-information"),b=l("core-tooltip"),V=l("svg-trash"),_=l("core-wp-table"),u=l("svg-close"),w=l("base-button"),L=l("core-modal");return d(),f("div",bs,[r(S,{active:s.showBulkAddRedirections},{default:o(()=>[i("div",$s,[r(v,{slug:"bulkAddNewRedirection","header-text":s.strings.addNewRedirections,toggles:!1,"no-slide":"",closes:"",onCloseCard:t[0]||(t[0]=C=>s.showBulkAddRedirections=!1)},{default:o(()=>[(d(),g(h,{key:s.redirect404UrlsKey,log404:"",onAddedRedirect:a.addedRedirect,urls:a.get404RedirectUrls},null,8,["onAddedRedirect","urls"]))]),_:1},8,["header-text"])])]),_:1},8,["active"]),(d(),g(_,{ref:"table",id:s.tableId,"bulk-options":s.bulkOptions,columns:a.columns,filters:[],"initial-items-per-page":e.$aioseo.settings.tablePagination.redirect404Logs,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.logs404,"show-search":!0,totals:e.totals.total404,"show-items-per-page":"",onPaginate:e.processPagination,onProcessBulkAction:a.beginProcessBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:e.processSearch,onSortColumn:e.processSort},{last_accessed:o(({column:C})=>[c(n(e.sqlDateToLogFormat(C,!0)),1)]),redirect:o(({index:C,editRow:T})=>[i("a",{class:"add-redirect",href:"#",onClick:J(M=>T(C),["prevent"])},[r(R),c(n(s.strings.addRedirect),1)],8,ys)]),actions:o(({index:C,row:T})=>[i("div",ws,[r(b,{type:"action"},{tooltip:o(()=>[c(n(s.strings.additionalInfo),1)]),default:o(()=>[r(O,{class:"log-info",onClick:M=>e.showInfo(T)},null,8,["onClick"])]),_:2},1024),r(b,{type:"action"},{tooltip:o(()=>[c(n(s.strings.delete),1)]),default:o(()=>[r(V,{class:"remove-404",onClick:M=>a.maybeDelete404(C)},null,8,["onClick"])]),_:2},1024)])]),"edit-row":o(({row:C,editRow:T})=>[r(h,{log404:"",onAddedRedirect:t[1]||(t[1]=M=>e.processPagination(e.$refs.table.pageNumber)),url:{id:C.id,url:C.url,errors:[],warnings:[]},onCancel:M=>T(null)},null,8,["url","onCancel"])]),_:1},8,["id","bulk-options","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),e.showDeleteModal?(d(),g(L,{key:0,"no-header":"",onClose:t[5]||(t[5]=C=>e.showDeleteModal=!1)},{body:o(()=>[i("div",Ss,[i("button",{class:"close",onClick:t[3]||(t[3]=J(C=>e.showDeleteModal=!1,["stop"]))},[r(u,{onClick:t[2]||(t[2]=C=>e.showDeleteModal=!1)})]),i("h3",null,n(s.strings.areYouSureDeleteLog),1),i("div",{class:"reset-description",innerHTML:s.strings.actionCannotBeUndone},null,8,Os),r(w,{type:"blue",size:"medium",onClick:e.processDeleteLog,loading:e.deletingLog},{default:o(()=>[c(n(s.strings.yesDeleteLog),1)]),_:1},8,["onClick","loading"]),r(w,{type:"gray",size:"medium",onClick:t[4]||(t[4]=C=>e.showDeleteModal=!1)},{default:o(()=>[c(n(s.strings.noChangedMind),1)]),_:1})])]),_:1})):p("",!0),e.activeRow?(d(),g(L,{key:1,onClose:t[6]||(t[6]=C=>e.activeRow=null)},{headerTitle:o(()=>[c(n(s.strings.additionalInfo),1)]),body:o(()=>[i("div",Rs,[i("div",null,[i("strong",null,n(s.strings.url)+":",1),c(" "+n(e.activeRow.url),1)]),i("div",null,[i("strong",null,n(s.strings.hits)+":",1),c(" "+n(e.activeRow.hits),1)]),i("div",null,[i("strong",null,n(s.strings.lastAccessed)+":",1),c(" "+n(e.sqlDateToLogFormat(e.activeRow.last_accessed)),1)]),e.activeRow.ip?(d(),f("div",Vs,[i("strong",null,n(s.strings.lastIp)+":",1),c(),i("code",null,n(e.activeRow.ip),1)])):p("",!0),e.activeRow.referrers.length?(d(),f("div",Cs,[i("strong",null,n(s.strings.referrers)+":",1),i("table",ks,[(d(!0),f(P,null,U(e.activeRow.referrers,(C,T)=>(d(),f("tr",{key:T},[i("td",null,n(C),1)]))),128))])])):p("",!0),e.getHeaderInfo(e.activeRow)?(d(),f("div",Ts,[i("strong",null,n(s.strings.headers)+":",1),i("table",Ls,[(d(!0),f(P,null,U(e.getHeaderInfo(e.activeRow),(C,T)=>(d(),f("tr",{key:T},[i("td",null,[i("strong",null,n(T)+":",1)]),i("td",null,n(C),1)]))),128))])])):p("",!0)])]),_:1})):p("",!0)])}const Ps=k(vs,[["render",Hs]]),Ds={},As={viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-globe"},Us=i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M28 4.6665C15.12 4.6665 4.66669 15.1198 4.66669 27.9998C4.66669 40.8798 15.12 51.3332 28 51.3332C40.88 51.3332 51.3334 40.8798 51.3334 27.9998C51.3334 15.1198 40.88 4.6665 28 4.6665ZM9.33335 27.9998C9.33335 26.5765 9.52002 25.1765 9.82335 23.8465L20.9767 34.9998V37.3331C20.9767 39.8998 23.0767 41.9998 25.6434 41.9998V46.5031C16.4734 45.3365 9.33335 37.4965 9.33335 27.9998ZM37.3103 37.3333C39.4103 37.3333 41.137 38.71 41.7437 40.6C44.777 37.2866 46.667 32.8533 46.667 28C46.667 20.1833 41.8137 13.4633 34.977 10.71V11.6666C34.977 14.2333 32.877 16.3333 30.3103 16.3333H25.6437V21C25.6437 22.2833 24.5937 23.3333 23.3103 23.3333H18.6437V28H32.6437C33.927 28 34.977 29.05 34.977 30.3333V37.3333H37.3103Z",fill:"currentColor"},null,-1),Is=[Us];function Ms(e,t){return d(),f("svg",As,Is)}const Es=k(Ds,[["render",Ms]]),Bs={},Ns={width:"54",height:"45",viewBox:"0 0 54 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-home"},Fs=i("path",{d:"M9.125 44.2148V24.2148H0.9375L27 0.839844L39.125 11.4648V4.71484H44.875V16.8398L53.0625 24.2148H44.875V44.2148H29.75V29.4648H24.25V44.2148H9.125ZM13.625 39.7148H19.75V24.9023H34.25V39.7148H40.375V18.9648L27 6.83984L13.625 18.9648V39.7148ZM19.75 24.9023H34.25H19.75ZM21.5 18.9023H32.5C32.5 17.444 31.9583 16.2357 30.875 15.2773C29.7917 14.319 28.5 13.8398 27 13.8398C25.5 13.8398 24.2083 14.319 23.125 15.2773C22.0417 16.2357 21.5 17.444 21.5 18.9023Z",fill:"#434960"},null,-1),zs=[Fs];function Js(e,t){return d(),f("svg",Ns,zs)}const Ws=k(Bs,[["render",Js]]),qs={},js={width:"50",height:"48",viewBox:"0 0 50 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-controls"},Gs=i("path",{d:"M21.3254 47.1523V32.2773H26.1154V37.4648H49.2782V42.0273H26.1154V47.1523H21.3254ZM0.721741 42.0273V37.4648H17.7821V42.0273H0.721741ZM12.9921 31.2148V26.0898H0.721741V21.5898H12.9921V16.3398H17.7821V31.2148H12.9921ZM21.3254 26.0898V21.5898H49.2782V26.0898H21.3254ZM32.2178 15.4023V0.527344H37.0078V5.65234H49.2782V10.2148H37.0078V15.4023H32.2178ZM0.721741 10.2148V5.65234H28.6745V10.2148H0.721741Z",fill:"#434960"},null,-1),Ys=[Gs];function Zs(e,t){return d(),f("svg",js,Ys)}const Ks=k(qs,[["render",Zs]]);const Xs={components:{CoreAlert:N,CoreSettingsRow:F,BaseToggle:fe,BaseInput:ve,CoreCard:H,SvgHome:Ws,SvgControls:Ks,BaseBoxToggle:oe},data(){return{strings:{advanced404s:this.$t.__("Advanced 404 Settings",this.$td),descriptionClosed:this.$t.__("Our advanced 404 settings are not for everyone. While a 404 page may not seem like the best user experience, redirecting all your 404's may confuse your users who are looking for specific content. Instead it's always better to redirect content to real pages. If you're not sure what to do, just leave these settings off.",this.$td),default404:this.$t.__("Default 404 Redirect",this.$td),descriptionDefault404:this.$t.__("Enable default 404 redirect",this.$td),home:this.$t.__("Home Page",this.$td),custom:this.$t.__("Custom URL",this.$td),advanced404:this.$t.__("Advanced 404 Settings",this.$td),redirectToHome:this.$t.__("Redirect 404's to the Home Page",this.$td),redirectToParent:this.$t.__("Redirect 404's to the Parent Page or Parent Category",this.$td),redirectingToHome:this.$t.__("Your 404's will now be redirected to the Home Page. We'll still keep track of them in the 404 Logs.",this.$td),redirectingToParent:this.$t.__("Your 404's will now be redirected to their parent page or post. We'll still keep track of them in the 404 Logs.",this.$td),redirectToParentWoocommerce:this.$t.__("WooCommerce Support",this.$td),redirectingToParentWoocommerce:this.$t.__("Products and Product Categories will redirect to the shop page.",this.$td),redirectingToParentUpgrade:this.$t.sprintf(this.$t.__("Advanced 404 Management is not available for your current plan. %1$s",this.$td),this.$links.getUpsellLink("redirects",this.$constants.GLOBAL_STRINGS.learnMore,"404-settings",!0)),redirectingToCustom:this.$t.__("Your 404's will now be redirected to the Custom URL below.",this.$td),redirectingToCustomDescription:this.$t.__("The Custom URL can be a Relative or Full URL.",this.$td),redirectToSmart:this.$t.__("Smart Slug Redirect",this.$td),redirectingToSmart:this.$t.__("Your 404's will now be redirected by the URL slug.",this.$td)}}},computed:{...D("redirects",["redirectOptions"]),has404ParentRedirect(){return this.$license.hasAddonFeature(this.$aioseo,"aioseo-redirects","404-parent-redirect")}}},Qs={class:"enable"},xs={key:0},eo={class:"option"},to={key:0,class:"aioseo-description background"},so={key:1,class:"aioseo-description background"},oo={class:"option"},io={key:0,class:"aioseo-description"},ro={key:2,class:"aioseo-description"},no={key:0,class:"aioseo-description"};function lo(e,t,m,$,s,a){const h=l("base-toggle"),v=l("svg-home"),S=l("svg-controls"),R=l("base-box-toggle"),O=l("base-input"),b=l("core-alert"),V=l("core-settings-row"),_=l("core-card");return d(),g(_,{slug:"404Settings",toggles:e.redirectOptions.advanced404s.enabled,disabled:!e.redirectOptions.advanced404s.enabled},{header:o(()=>[r(h,{modelValue:e.redirectOptions.advanced404s.enabled,"onUpdate:modelValue":t[0]||(t[0]=u=>e.redirectOptions.advanced404s.enabled=u)},null,8,["modelValue"]),i("span",null,n(s.strings.advanced404s),1)]),disabled:o(()=>[c(n(s.strings.descriptionClosed),1)]),default:o(()=>[r(V,{name:s.strings.default404,class:"redirects-defaults default-404"},{content:o(()=>[i("div",Qs,[r(h,{modelValue:e.redirectOptions.advanced404s.redirectDefaultEnabled,"onUpdate:modelValue":t[1]||(t[1]=u=>e.redirectOptions.advanced404s.redirectDefaultEnabled=u)},{default:o(()=>[c(n(s.strings.descriptionDefault404),1)]),_:1},8,["modelValue"])]),e.redirectOptions.advanced404s.redirectDefaultEnabled?(d(),f("div",xs,[i("div",eo,[r(R,{name:"redirect404Default",modelValue:e.redirectOptions.advanced404s.redirectDefault,"onUpdate:modelValue":t[2]||(t[2]=u=>e.redirectOptions.advanced404s.redirectDefault=u),options:[{value:"home",slot:"home"},{value:"custom",slot:"custom"}]},{home:o(()=>[r(v),i("p",null,n(s.strings.home),1)]),custom:o(()=>[r(S),i("p",null,n(s.strings.custom),1)]),_:1},8,["modelValue"]),e.redirectOptions.advanced404s.redirectDefault==="home"?(d(),f("div",to,n(s.strings.redirectingToHome),1)):p("",!0),e.redirectOptions.advanced404s.redirectDefault==="custom"?(d(),f("div",so,[c(n(s.strings.redirectingToCustom)+" ",1),r(O,{modelValue:e.redirectOptions.advanced404s.redirectToCustomUrl,"onUpdate:modelValue":t[3]||(t[3]=u=>e.redirectOptions.advanced404s.redirectToCustomUrl=u)},null,8,["modelValue"]),c(" "+n(s.strings.redirectingToCustomDescription),1)])):p("",!0)])])):p("",!0),r(b,{type:"yellow",innerHTML:s.strings.descriptionClosed},null,8,["innerHTML"])]),_:1},8,["name"]),r(V,{name:s.strings.advanced404,class:"redirects-defaults"},{content:o(()=>[i("div",oo,[r(h,{modelValue:e.redirectOptions.advanced404s.redirectToSmart,"onUpdate:modelValue":t[4]||(t[4]=u=>e.redirectOptions.advanced404s.redirectToSmart=u)},{default:o(()=>[c(n(s.strings.redirectToSmart),1)]),_:1},8,["modelValue"]),e.redirectOptions.advanced404s.redirectToSmart?(d(),f("div",io,n(s.strings.redirectingToSmart),1)):p("",!0)]),i("div",{class:A(["option",{disabled:!a.has404ParentRedirect}])},[a.has404ParentRedirect?(d(),g(h,{key:0,modelValue:e.redirectOptions.advanced404s.redirectToParent,"onUpdate:modelValue":t[5]||(t[5]=u=>e.redirectOptions.advanced404s.redirectToParent=u)},{default:o(()=>[c(n(s.strings.redirectToParent),1)]),_:1},8,["modelValue"])):p("",!0),a.has404ParentRedirect?p("",!0):(d(),g(h,{key:1,modelValue:!1,disabled:!0},{default:o(()=>[c(n(s.strings.redirectToParent),1)]),_:1})),a.has404ParentRedirect&&e.redirectOptions.advanced404s.redirectToParent?(d(),f("div",ro,n(s.strings.redirectingToParent),1)):p("",!0),a.has404ParentRedirect?p("",!0):(d(),g(b,{key:3,type:"yellow",innerHTML:s.strings.redirectingToParentUpgrade},null,8,["innerHTML"]))],2),a.has404ParentRedirect&&e.redirectOptions.advanced404s.redirectToParent?(d(),f("div",{key:0,class:A(["option",{disabled:!a.has404ParentRedirect}])},[r(h,{modelValue:e.redirectOptions.advanced404s.redirectToParentWoocommerce,"onUpdate:modelValue":t[6]||(t[6]=u=>e.redirectOptions.advanced404s.redirectToParentWoocommerce=u)},{default:o(()=>[c(n(s.strings.redirectToParentWoocommerce),1)]),_:1},8,["modelValue"]),e.redirectOptions.advanced404s.redirectToParentWoocommerce?(d(),f("div",no,n(s.strings.redirectingToParentWoocommerce),1)):p("",!0)],2)):p("",!0)]),_:1},8,["name"])]),_:1},8,["toggles","disabled"])}const ao=k(Xs,[["render",lo],["__scopeId","data-v-69888cf0"]]);const co={components:{BaseBoxToggle:oe,CoreAlert:N,CoreCard:H,CorePostTypeOptions:ke,CoreSettingsRow:F,CoreTooltip:B,ServerConfigReloadWarning:Y,SvgCircleQuestionMark:be,SvgGlobe:Es,SvgPhp:Ce,TableColumn:Te,TableRow:Le,BaseSelect:$e,Advanced404s:ao},mixins:[Q],data(){return{saving:!1,nginxLoading:!1,apacheLoading:!1,strings:{redirectSettings:this.$t.__("Redirect Settings",this.$td),redirectMethod:this.$t.__("Redirect Method",this.$td),unknownServer:this.$t.sprintf(this.$t.__("We cannot detect your web server. Server redirects are disabled. %1$s",this.$td),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectUnknownWebserver",!0)),php:this.$t.__("PHP",this.$td),webServer:this.$t.__("Web Server",this.$td),logs:this.$t.__("Logs",this.$td),ipLogging:this.$t.__("IP Logging",this.$td),httpCacheHeader:this.$t.__("HTTP Cache Header",this.$td),redirectDefaults:this.$t.__("Redirect Defaults",this.$td),logs404:this.$t.__("404 Logs",this.$td),redirectLogs:this.$t.__("Redirect Logs",this.$td),logExternal:this.$t.__("Log External Redirects",this.$td),logHttpHeader:this.$t.__("Log HTTP Header Information",this.$td),enableRedirectCache:this.$t.__("Enable Redirect Cache",this.$td),ignoreCase:this.$t.__("Ignore Case",this.$td),ignoreSlash:this.$t.__("Ignore Slash",this.$td),cacheRedirects:this.$t.__("Cache Redirects",this.$td),objectCache:this.$t.__("Object Cache",this.$td),ipLoggingDescription:this.$t.sprintf(this.$t.__("%1$sGDPR / Privacy information%2$s",this.$td),'<a target="_blank" href="'+this.$links.getDocUrl("redirectGdpr")+'">',"</a>"),logIpAddresses:this.$t.__("Log IP Addresses",this.$td),redirectType:this.$t.__("Redirect Type",this.$td),queryParams:this.$t.__("Query Parameters",this.$td),logExternalDescription:this.$t.sprintf(this.$t.__("Log redirects that happen on your site even if the redirect happened outside of %1$s",this.$td),"AIOSEO"),logHeaderInformationDescription:this.$t.__("Capture HTTP header information with the logs (except for cookies).",this.$td),exportNginxConfigFile:this.$t.sprintf(this.$t.__("Export %1$s config file",this.$td),"NGINX"),exportHtaccessFile:this.$t.sprintf(this.$t.__("Export %1$s file",this.$td),".htaccess"),autoWriteHtaccess:this.$t.sprintf(this.$t.__("Auto-write to %1$s",this.$td),".htaccess"),monitorChanges:this.$t.__("Automatic Redirects",this.$td),includeAllPostTypes:this.$t.__("Include All Post Types",this.$td),monitorTrash:this.$t.__("Monitor Trash",this.$td),monitorChangesTooltip:this.$t.__('This allows you to monitor changes to post types and automatically add redirects based on URL changes. These will show up with a group called "Modified Posts".',this.$td)},lengthOptions:[{label:this.$t.__("1 hour",this.$td),value:"hour"},{label:this.$t.__("1 day",this.$td),value:"day"},{label:this.$t.__("1 week",this.$td),value:"week"},{label:this.$t.__("Forever",this.$td),value:"forever"}],ipLoggingOptions:[{label:this.$t.__("Full Logging",this.$td),value:"full"},{label:this.$t.__("Anonymize IP",this.$td),value:"anonymous"}]}},computed:{...D("redirects",["redirectOptions","redirectServerTest"]),serverDetected(){return this.$t.sprintf(this.$t.__("%1$s Server has been detected.",this.$td),this.detectedServer)},detectedServer(){return this.$aioseo.data.server.apache?"Apache":this.$aioseo.data.server.nginx?"NGINX":null},missingInclude(){const e=this.$aioseo.data.server.apache?"Include ":"include ",t=this.$aioseo.data.server.nginx?";":"",m="<br><code>"+e+this.$aioseo.redirects.path+t+"</code>";return this.$t.sprintf(this.$t.__("Make sure you include the following in your server configuration file: %1$s",this.$td),m)}},methods:{...I("redirects",["exportServerRedirects"]),exportRedirects(e){this[e+"Loading"]=!0,this.exportServerRedirects(e).then(t=>{this[e+"Loading"]=!1;const m=e==="apache"?"htaccess":e,$=new Blob([t.body.redirects]),s=document.createElement("a");s.href=URL.createObjectURL($),s.download=`aioseo-export-redirects-${W.now().toFormat("yyyy-MM-dd")}.${m}`,s.click(),URL.revokeObjectURL(s.href)})}}},uo={class:"aioseo-redirects-settings"},po={key:0,class:"web-server-settings"},ho=["innerHTML"],go={class:"option"},mo={class:"option"},_o={class:"option"},fo={class:"option"},vo={class:"option"},bo={class:"aioseo-description"},$o={class:"option"},yo={class:"aioseo-description"};function wo(e,t,m,$,s,a){const h=l("server-config-reload-warning"),v=l("svg-php"),S=l("svg-globe"),R=l("base-box-toggle"),O=l("core-alert"),b=l("base-button"),V=l("core-settings-row"),_=l("base-toggle"),u=l("table-column"),w=l("base-select"),L=l("table-row"),C=l("svg-circle-question-mark"),T=l("core-tooltip"),M=l("core-post-type-options"),re=l("core-card"),ne=l("advanced-404s");return d(),f("div",uo,[r(h),r(re,{slug:"redirectSettings","header-text":s.strings.redirectSettings},{default:o(()=>[r(V,{name:s.strings.redirectMethod},{content:o(()=>[r(R,{modelValue:e.redirectOptions.main.method,"onUpdate:modelValue":t[0]||(t[0]=y=>e.redirectOptions.main.method=y),name:"breadcrumbsType",options:[{value:"php",slot:"php"},{value:"server",slot:"server"}]},{php:o(()=>[r(v),i("p",null,n(s.strings.php),1)]),server:o(()=>[r(S),i("p",null,n(s.strings.webServer),1)]),_:1},8,["modelValue"]),e.redirectOptions.main.method==="server"?(d(),f("div",po,[a.detectedServer?p("",!0):(d(),g(O,{key:0,class:"detected-web-server unknown",type:"red",innerHTML:s.strings.unknownServer},null,8,["innerHTML"])),a.detectedServer?(d(),f(P,{key:1},[r(O,{class:"detected-web-server",type:"blue"},{default:o(()=>[c(n(a.serverDetected),1)]),_:1}),e.redirectServerTest.failed===!0?(d(),g(O,{key:0,type:"yellow",class:"missing-include",innerHTML:a.missingInclude},null,8,["innerHTML"])):p("",!0)],64)):p("",!0),r(b,{type:"gray",size:"medium",onClick:t[1]||(t[1]=y=>a.exportRedirects("nginx")),loading:s.nginxLoading},{default:o(()=>[c(n(s.strings.exportNginxConfigFile),1)]),_:1},8,["loading"]),r(b,{type:"gray",size:"medium",onClick:t[2]||(t[2]=y=>a.exportRedirects("apache")),loading:s.apacheLoading},{default:o(()=>[c(n(s.strings.exportHtaccessFile),1)]),_:1},8,["loading"])])):p("",!0)]),_:1},8,["name"]),r(V,{name:s.strings.logs,class:"redirects-logs"},{content:o(()=>[r(L,null,{default:o(()=>[r(u,null,{default:o(()=>[r(_,{modelValue:e.redirectOptions.logs.log404.enabled,"onUpdate:modelValue":t[3]||(t[3]=y=>e.redirectOptions.logs.log404.enabled=y)},{default:o(()=>[c(n(s.strings.logs404),1)]),_:1},8,["modelValue"])]),_:1}),r(u,null,{default:o(()=>[r(w,{size:"medium",options:s.lengthOptions,disabled:!e.redirectOptions.logs.log404.enabled,modelValue:e.getJsonValue(e.redirectOptions.logs.log404.length),"onUpdate:modelValue":t[4]||(t[4]=y=>e.redirectOptions.logs.log404.length=e.setJsonValue(y))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1}),e.redirectOptions.main.method==="php"?(d(),g(L,{key:0},{default:o(()=>[r(u,null,{default:o(()=>[r(_,{modelValue:e.redirectOptions.logs.redirects.enabled,"onUpdate:modelValue":t[5]||(t[5]=y=>e.redirectOptions.logs.redirects.enabled=y)},{default:o(()=>[c(n(s.strings.redirectLogs),1)]),_:1},8,["modelValue"])]),_:1}),r(u,null,{default:o(()=>[r(w,{size:"medium",options:s.lengthOptions,disabled:!e.redirectOptions.logs.redirects.enabled,modelValue:e.getJsonValue(e.redirectOptions.logs.redirects.length),"onUpdate:modelValue":t[6]||(t[6]=y=>e.redirectOptions.logs.redirects.length=e.setJsonValue(y))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1})):p("",!0),e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"?(d(),g(L,{key:1},{default:o(()=>[r(u,null,{default:o(()=>[r(_,{modelValue:e.redirectOptions.logs.external,"onUpdate:modelValue":t[7]||(t[7]=y=>e.redirectOptions.logs.external=y)},{default:o(()=>[c(n(s.strings.logExternal)+" ",1),r(T,null,{tooltip:o(()=>[c(n(s.strings.logExternalDescription),1)]),default:o(()=>[r(C)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):p("",!0),e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"||e.redirectOptions.logs.log404.enabled?(d(),g(L,{key:2},{default:o(()=>[r(u,null,{default:o(()=>[r(_,{modelValue:e.redirectOptions.logs.httpHeader,"onUpdate:modelValue":t[8]||(t[8]=y=>e.redirectOptions.logs.httpHeader=y)},{default:o(()=>[c(n(s.strings.logHttpHeader)+" ",1),r(T,null,{tooltip:o(()=>[c(n(s.strings.logHeaderInformationDescription),1)]),default:o(()=>[r(C)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):p("",!0)]),_:1},8,["name"]),e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"||e.redirectOptions.logs.log404.enabled?(d(),g(V,{key:0,name:s.strings.ipLogging,align:"",class:"redirects-ip-logging"},{content:o(()=>[r(L,null,{default:o(()=>[r(u,null,{default:o(()=>[r(_,{modelValue:e.redirectOptions.logs.ipAddress.enabled,"onUpdate:modelValue":t[9]||(t[9]=y=>e.redirectOptions.logs.ipAddress.enabled=y)},{default:o(()=>[c(n(s.strings.logIpAddresses),1)]),_:1},8,["modelValue"])]),_:1}),r(u,null,{default:o(()=>[r(w,{size:"medium",options:s.ipLoggingOptions,disabled:!e.redirectOptions.logs.ipAddress.enabled,modelValue:e.getJsonValue(e.redirectOptions.logs.ipAddress.level),"onUpdate:modelValue":t[10]||(t[10]=y=>e.redirectOptions.logs.ipAddress.level=e.setJsonValue(y))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1}),r(L,null,{default:o(()=>[r(u,null,{default:o(()=>[i("div",{class:"aioseo-description",innerHTML:s.strings.ipLoggingDescription},null,8,ho)]),_:1})]),_:1})]),_:1},8,["name"])):p("",!0),e.redirectOptions.main.method==="php"?(d(),f(P,{key:1},[e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"?(d(),g(V,{key:0,name:s.strings.httpCacheHeader,align:"",class:"redirects-cache"},{content:o(()=>[r(L,null,{default:o(()=>[r(u,null,{default:o(()=>[r(_,{modelValue:e.redirectOptions.cache.httpHeader.enabled,"onUpdate:modelValue":t[11]||(t[11]=y=>e.redirectOptions.cache.httpHeader.enabled=y)},{default:o(()=>[c(n(s.strings.cacheRedirects),1)]),_:1},8,["modelValue"])]),_:1}),r(u,null,{default:o(()=>[r(w,{size:"medium",options:s.lengthOptions,disabled:!e.redirectOptions.cache.httpHeader.enabled,modelValue:e.getJsonValue(e.redirectOptions.cache.httpHeader.length),"onUpdate:modelValue":t[12]||(t[12]=y=>e.redirectOptions.cache.httpHeader.length=e.setJsonValue(y))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1})]),_:1},8,["name"])):p("",!0)],64)):p("",!0),r(V,{name:s.strings.monitorChanges,class:"redirects-monitor"},{name:o(()=>[c(n(s.strings.monitorChanges)+" ",1),r(T,null,{tooltip:o(()=>[c(n(s.strings.monitorChangesTooltip),1)]),default:o(()=>[r(C)]),_:1})]),content:o(()=>[i("div",go,[r(_,{size:"medium",modelValue:e.redirectOptions.monitor.postTypes.all,"onUpdate:modelValue":t[13]||(t[13]=y=>e.redirectOptions.monitor.postTypes.all=y)},{default:o(()=>[c(n(s.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"])]),e.redirectOptions.monitor.postTypes.all?p("",!0):(d(),g(M,{key:0,options:e.redirectOptions.monitor,type:"postTypes",excluded:["attachment"]},null,8,["options"])),i("div",mo,[r(_,{size:"medium",modelValue:e.redirectOptions.monitor.trash,"onUpdate:modelValue":t[14]||(t[14]=y=>e.redirectOptions.monitor.trash=y)},{default:o(()=>[c(n(s.strings.monitorTrash),1)]),_:1},8,["modelValue"])])]),_:1},8,["name"]),r(V,{name:s.strings.redirectDefaults,class:"redirects-defaults"},{content:o(()=>[i("div",_o,[r(_,{modelValue:e.redirectOptions.redirectDefaults.ignoreSlash,"onUpdate:modelValue":t[15]||(t[15]=y=>e.redirectOptions.redirectDefaults.ignoreSlash=y)},{default:o(()=>[c(n(s.strings.ignoreSlash),1)]),_:1},8,["modelValue"])]),i("div",fo,[r(_,{modelValue:e.redirectOptions.redirectDefaults.ignoreCase,"onUpdate:modelValue":t[16]||(t[16]=y=>e.redirectOptions.redirectDefaults.ignoreCase=y)},{default:o(()=>[c(n(s.strings.ignoreCase),1)]),_:1},8,["modelValue"])]),i("div",vo,[i("div",bo,n(s.strings.redirectType),1),r(w,{modelValue:e.getJsonValue(e.redirectOptions.redirectDefaults.redirectType),"onUpdate:modelValue":t[17]||(t[17]=y=>e.redirectOptions.redirectDefaults.redirectType=e.setJsonValue(y)),size:"medium",options:e.$constants.REDIRECT_TYPES},null,8,["modelValue","options"])]),i("div",$o,[i("div",yo,n(s.strings.queryParams),1),r(w,{modelValue:e.getJsonValue(e.redirectOptions.redirectDefaults.queryParam),"onUpdate:modelValue":t[18]||(t[18]=y=>e.redirectOptions.redirectDefaults.queryParam=e.setJsonValue(y)),size:"medium",options:e.$constants.REDIRECT_QUERY_PARAMS},null,8,["modelValue","options"])])]),_:1},8,["name"])]),_:1},8,["header-text"]),r(ne)])}const So=k(co,[["render",wo]]);const Oo={components:{CoreMain:ge,FullSiteRedirect:Ut,ImportExport:is,Logs:fs,Logs404:Ps,Redirects:ye,Settings:So},mixins:[he,ae],data(){return{strings:{pageName:this.$t.__("Redirects",this.$td)}}},computed:{...E("redirects",["options"]),showSaveButton(){return this.$route.name!=="redirects"&&this.$route.name!=="groups"&&this.$route.name!=="logs-404"&&this.$route.name!=="logs"&&this.$route.name!=="import-export"},excludeTabs(){const e=this.$addons.isActive("aioseo-redirects")?this.getExcludedUpdateTabs("aioseo-redirects"):this.getExcludedActivationTabs("aioseo-redirects");return this.options.logs.log404.enabled||e.push("logs-404"),(!this.options.logs.redirects.enabled||this.options.main.method==="server")&&e.push("logs"),e}}};function Ro(e,t,m,$,s,a){const h=l("core-main");return d(),g(h,{"page-name":s.strings.pageName,"show-save-button":a.showSaveButton,"exclude-tabs":a.excludeTabs},{default:o(()=>[(d(),g(pe(e.$route.name)))]),_:1},8,["page-name","show-save-button","exclude-tabs"])}const Ai=k(Oo,[["render",Ro]]);export{Ai as default};
