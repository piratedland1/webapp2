import{W as M,R as ot}from"./WpTable.5b32ebd5.js";import"./default-i18n.3a91e0e5.js";import"./constants.355a3bff.js";import{_ as S,r as o,o as l,c as R,h as c,w as a,f as n,t as r,e as f,d as u,a as k,n as D,g as O,k as F,p as at,F as lt,i as rt}from"./_plugin-vue_export-helper.49ea0e68.js";import{D as dt}from"./index.3cfc26e3.js";import{R as pt}from"./RequiresActivation.f3dc11da.js";import"./SaveChanges.04870e44.js";import{a as L,m as x,b as V,d as Y}from"./vuex.esm-bundler.ccdd8fb3.js";import{C as ut}from"./Index.7c94dfaa.js";import{a as ht}from"./Header.99921ac6.js";import{C as N}from"./Table.edad123c.js";import{P as q}from"./PostTypes.9ab32454.js";import{D as j}from"./Date.07cad420.js";import{C as G}from"./Tooltip.754dc940.js";import{e as K,f as ct,L as J,a as W,b as Q,c as X,d as Z,S as tt}from"./Index.15fa8d6b.js";import{c as gt,n as mt,C as _t}from"./index.d59f905b.js";import{e as st}from"./Caret.09e548f3.js";import{a as B,S as U,b as E,c as z}from"./Affiliate.bd403a25.js";import{C as et}from"./Tabs.2341d6cd.js";import{S as H}from"./Suggestion.88862488.js";import{S as nt}from"./Refresh.9a7e7fe2.js";import kt from"./Overview.1272de96.js";import{J as ft}from"./JsonValues.870a4901.js";import{B as bt}from"./Checkbox.de9093b7.js";import{B as vt}from"./Textarea.d0159334.js";import{C as yt}from"./Card.a7500a15.js";import{C as It}from"./ExcludePosts.eced13eb.js";import{B as Pt}from"./HighlightToggle.05571e64.js";import{G as wt,a as $t}from"./Row.87dd14fc.js";import{C as Tt}from"./PostTypeOptions.ae57ac8f.js";import{C as Rt}from"./SettingsRow.45faf80a.js";import"./helpers.871dba46.js";import"./RequiresUpdate.fe231e49.js";import"./postContent.53eb7ed3.js";import"./cleanForSlug.13f04843.js";import"./isArrayLikeObject.8c985d83.js";import"./html.68197829.js";import"./Index.20fccad8.js";import"./RequiresActivation.7967cb8d.js";/* empty css             */import"./params.597cd0f5.js";import"./LicenseKeyBar.7a027564.js";import"./LogoGear.e7d3761e.js";import"./Logo.834a7c5e.js";import"./Support.c4a8d09f.js";import"./Exclamation.9bda8f1b.js";import"./Url.c71d5763.js";import"./Gear.a414ea99.js";import"./Slide.dcb3da9d.js";import"./AnimatedNumber.1f058f2b.js";import"./Editor.c126da5a.js";import"./_commonjsHelpers.f84db168.js";import"./Plus.77736cd8.js";import"./TruSeoScore.76897846.js";import"./Information.4a1e5f23.js";import"./Blur.ef3abea2.js";import"./DonutChartWithLegend.5b6afdfc.js";import"./SeoSiteScore.29a89953.js";import"./Row.0bb556fb.js";import"./Index.a6f4141a.js";import"./RequiredPlans.6baa6da5.js";import"./Checkmark.05a656b1.js";import"./AddPlus.b5adbf8b.js";import"./External.1616b132.js";import"./Radio.52ad45a2.js";const At={emits:["updated"],components:{CoreTooltip:G,CoreWpTable:N,LinkAssistantConfirmationModal:K,LinkAssistantEditablePhrase:ct,SvgTrash:gt},mixins:[q,M,j],props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{tableIdPrefix:"aioseo-domains-report-inner-",resultsPerPage:5,wpTableKey:0,activePost:-1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:this.$t.__("Delete",this.$td),value:"delete"}],strings:{delete:this.$t.__("Delete",this.$td)},modalStrings:{areYouSureSingle:this.$t.__("Are you sure you want to delete these links for this domain?",this.$tdPro),areYouSureMultiple:this.$t.__("Are you sure you want to delete these links for this domain?",this.$tdPro),areYouSureAll:this.$t.__("Are you sure you want to delete all links for this domain?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to delete these links",this.$tdPro),yesMultiple:this.$t.__("Yes, I want to delete these links",this.$tdPro),yesAll:this.$t.__("Yes, I want to delete all links",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},computed:{...L(["linkAssistant"]),tableId(){return this.tableIdPrefix+dt.now().toFormat("x")},columns(){return[{slug:"post_title",label:this.$t.__("Post Title",this.$td)},{slug:"phrases",label:this.$t.__("Phrases with Links",this.$tdPro)},{slug:"publish_date",label:this.$t.__("Publish Date",this.$td),width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){return 1<this.rows[0].totals.pages},initialPageNumber(){if(this.linkAssistant.domainsReport.innerPagination===void 0||this.linkAssistant.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistant.domainsReport.innerPagination[this.domain];return t||1}},methods:{...x("linkAssistant",["fetchDomainsReportInner","domainsReportInnerBulk","domainsReportInnerLinkDelete","domainsReportInnerLinkUpdate"]),...V("linkAssistant",["setDomainsReportInnerPaginatedPage"]),fetchData(t){return this.setDomainsReportInnerPaginatedPage({domain:this.domain,page:this.pageNumber}),this.fetchDomainsReportInner({...t,additionalFilters:{domainIndex:this.activeDomain,domain:this.domain}}).finally(()=>{this.wpTableKey++,this.$emit("updated")})},toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:e}){this.wpTableLoading=!0,this.domainsReportInnerLinkDelete({searchTerm:this.searchTerm,rows:this.rows,postIndex:t,linkIndex:e,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})},saveModifiedPhrase(t){if(!this.linkAssistant.domainsReport.rows[this.activeDomain])return;const e=Object.keys(this.linkAssistant.domainsReport.rows[this.activeDomain])[0];!e||!this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex]||!this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex]||this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.domainsReportInnerLinkUpdate({domain:e,link:this.linkAssistant.domainsReport.rows[this.activeDomain][e][t.postIndex].links[t.phraseIndex]}).then(this.refreshTable).then(()=>{this.wpTableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:e}){!t||!e.length||(this.action=t,this.selectedRows=e,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.domainsReportInnerBulk({searchTerm:this.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})}},created(){this.pageNumber=this.initialPageNumber}},St={class:"domains-report-inner"},Lt=["href"],xt={class:"row-actions"},Ct={class:"view"},Dt=["href"],Ot={class:"edit"},Mt=["href"],Bt={class:"date"};function Ft(t,e,d,y,s,i){const I=o("link-assistant-editable-phrase"),$=o("svg-trash"),b=o("core-tooltip"),T=o("core-wp-table"),v=o("link-assistant-confirmation-modal");return l(),R("div",St,[(l(),c(T,{class:"link-assistant-inner-table","bulk-options":s.bulkOptions,columns:i.columns,id:i.tableId,"initial-page-number":t.pageNumber,key:s.wpTableKey,loading:t.wpTableLoading,rows:d.rows,"show-pagination":i.shouldShowPagination,"show-search":!1,"show-table-footer":!1,totals:d.rows[0].totals,onPaginate:t.processPagination,onProcessBulkAction:i.maybeDoBulkAction},{post_title:a(({row:g})=>[n("strong",null,[n("a",{class:"edit-link",href:g.context.permalink,target:"_blank"},r(g.context.postTitle),9,Lt)]),n("div",xt,[n("span",Ct,[n("a",{href:g.context.permalink,target:"_blank"},r(t.viewPost(g.context.postType.singular)),9,Dt),f(" | ")]),n("span",Ot,[n("a",{href:g.context.editLink,target:"_blank"},r(t.editPost(g.context.postType.singular)),9,Mt)])])]),phrases:a(({row:g,index:h})=>[u(I,{row:g,rowIndex:h,activeRow:s.activePost,domainsReport:"",onDelete:i.deleteLink,onToggleShowMorePhrases:i.toggleShowMorePhrases,onSaveModifiedPhrase:i.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","onDelete","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),publish_date:a(({row:g})=>[n("span",Bt,r(t.dateSqlToLocal(g.context.publishDate,"MMMM d, yyyy")),1)]),delete:a(({index:g})=>[u(b,{type:"action"},{tooltip:a(()=>[f(r(s.strings.delete),1)]),default:a(()=>[u($,{onClick:h=>i.maybeDoBulkAction({action:"delete",selectedRows:[g]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","columns","id","initial-page-number","loading","rows","show-pagination","totals","onPaginate","onProcessBulkAction"])),s.showModal?(l(),c(v,{key:0,strings:s.modalStrings,selectedRows:s.selectedRows,onDoBulkAction:i.doBulkAction,onCloseModal:e[0]||(e[0]=g=>s.showModal=!1)},null,8,["strings","selectedRows","onDoBulkAction"])):k("",!0)])}const Vt=S(At,[["render",Ft]]);const Nt={mixins:[M],components:{CoreWpTable:N,DomainsReportInner:Vt,LinkAssistantConfirmationModal:K,SvgCaret:st,SvgFile:mt,SvgLinkExternal:B},beforeMount(){this.$route.query&&(this.$route.query.hostname&&(this.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.searchTerm="",this.processPagination(1)))},data(){return{tableId:"aioseo-link-assistant-domains-report-wp-table",changeItemsPerPageSlug:"linkAssistantDomainsReport",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:this.$t.__("Delete",this.$td),value:"delete"}],strings:{view:this.$t.__("View",this.$tdPro),deleteAllLinks:this.$t.__("Delete All Links",this.$tdPro)},modalStrings:{areYouSureSingle:this.$t.__("Are you sure you want to delete all links for this domain?",this.$tdPro),areYouSureMultiple:this.$t.__("Are you sure you want to delete all links for these domains?",this.$tdPro),areYouSureAll:this.$t.__("Are you sure you want to delete all links for all domains?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to delete this link",this.$tdPro),yesMultiple:this.$t.__("Yes, I want to delete these links",this.$tdPro),yesAll:this.$t.__("Yes, I want to delete all links",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},computed:{...L(["linkAssistant"]),innerRows(){return this.linkAssistant.domainsReport.rows},columns(){return[{slug:"domain",label:this.$t.__("Domain",this.$tdPro)},{slug:"posts",label:this.$t.__("Posts",this.$tdPro),width:"90px"},{slug:"links",label:this.$t.__("Links",this.$tdPro),width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{...x("linkAssistant",{fetchData:"fetchDomainsReport",domainsReportBulk:"domainsReportBulk"}),postCount(t){const e=Object.keys(t)[0];return t[e][0].totals.total},linkCount(t){const e=Object.keys(t)[0];return t[e][0].totals.totalLinks},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:e}){e===!1||!t||(this.action=t,this.selectedRows=e,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.domainsReportBulk({action:this.action,searchTerm:this.searchTerm,rowIndexes:this.selectedRows}).then(this.processFetchTableData).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.wpTableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]}}},qt={class:"aioseo-link-assistant-domains-report"},Kt={class:"domain-name"},Ut=["onClick"],Et=["src"],zt={class:"row-actions"},Ht=["href"],Yt=["onClick"],jt=["onClick"];function Gt(t,e,d,y,s,i){const I=o("svg-file"),$=o("svg-link-external"),b=o("svg-caret"),T=o("domains-report-inner"),v=o("core-wp-table"),g=o("link-assistant-confirmation-modal");return l(),R("div",qt,[(l(),c(v,{ref:"table","bulk-options":s.bulkOptions,columns:i.columns,id:s.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantDomainsReport,"initial-page-number":t.pageNumber,"initial-search-term":t.searchTerm,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.linkAssistant.domainsReport.rows,totals:t.linkAssistant.domainsReport.totals,"show-items-per-page":"",onPaginate:t.processPagination,onProcessBulkAction:i.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage,onSearch:t.processSearch,onSortColumn:t.processSort},{domain:a(({row:h,index:P,editRow:p})=>[n("div",Kt,[n("a",{href:"#",class:D({active:i.isRowActive(P)}),onClick:O(w=>{p(P),i.toggleRow(P)},["prevent"])},[n("img",{alt:"Domain Favicon",class:"favicon",src:`https://www.google.com/s2/favicons?sz=32&domain=${Object.keys(h)[0]}`},null,8,Et),n("span",null,r(Object.keys(h)[0]),1)],10,Ut)]),n("div",zt,[n("span",null,[n("a",{class:"view",href:"https://"+Object.keys(h)[0],target:"_blank"},[n("span",null,r(s.strings.view),1)],8,Ht),f(" | ")]),n("span",null,[n("a",{class:"delete-all-links",href:"#",onClick:O(w=>i.maybeDoBulkAction({action:"delete",selectedRows:P}),["prevent"])},[n("span",null,r(s.strings.deleteAllLinks),1)],8,Yt)])])]),posts:a(({row:h})=>[n("div",null,[u(I),n("span",null,r(t.$numbers.numberFormat(i.postCount(h))),1)])]),links:a(({row:h})=>[n("div",null,[u($),n("span",null,r(t.$numbers.numberFormat(i.linkCount(h))),1)])]),"toggle-button":a(({index:h,editRow:P})=>[n("button",{class:D(["toggle-row-button",{active:i.isRowActive(h)}]),onClick:p=>{P(h),i.toggleRow(h)}},[u(b)],10,jt)]),"edit-row":a(({row:h})=>[(l(),c(T,{key:s.innerTableKey,domain:i.getInnerDomain(h),rows:i.getInnerDomainRows(h),activeDomain:s.activeRow,onUpdated:e[0]||(e[0]=P=>s.innerTableKey++)},null,8,["domain","rows","activeDomain"]))]),_:1},8,["bulk-options","columns","id","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),s.showModal?(l(),c(g,{key:0,strings:s.modalStrings,selectedRows:s.selectedRows,onDoBulkAction:i.doBulkAction,onCloseModal:e[1]||(e[1]=h=>s.showModal=!1)},null,8,["strings","selectedRows","onDoBulkAction"])):k("",!0)])}const Jt=S(Nt,[["render",Gt]]),it={emits:["updatingLinks"],computed:{...L(["linkAssistant"]),isPrioritizedPost(){let t=this.linkAssistant.linksReport.prioritizedPosts;return Array.isArray(t)&&(t=t.map(Number)),t.includes(parseInt(this.post.ID))}},methods:{...x("linkAssistant",["linksRefresh"]),doRefresh(){this.refreshLoading=!0,this.$bus.$emit("updatingLinks",!0),this.linksRefresh({postIndex:this.postIndex,postId:this.post.ID,linksReport:!0}).finally(()=>{this.refreshLoading=!1,this.$bus.$emit("updatingLinks",!1),this.refreshTable()})}}};const Wt={emits:["updatingLinks"],components:{CoreMainTabs:et,LinkAssistantAffiliate:J,LinkAssistantExternal:W,LinkAssistantInboundInternal:Q,LinkAssistantOutboundInternal:X,LinkAssistantSuggestions:Z,SvgLinkAffiliate:U,SvgLinkExternal:B,SvgLinkInternalInbound:E,SvgLinkInternalOutbound:z,SvgLinkSuggestion:H,SvgRefresh:nt},mixins:[tt,it,M],props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},data(){return{tabsKey:0,activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",refreshLoading:!1,strings:{refresh:this.$t.__("Refresh",this.$tdPro)}}},computed:{...Y("linkAssistant",["getLinksReportCounts"]),tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].inboundInternal,this.$t.__("Inbound Internal",this.$tdPro))},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].outboundInternal,this.$t.__("Outbound Internal",this.$tdPro))},{slug:"affiliate",icon:"svg-link-affiliate",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].affiliate,this.$t.__("Affiliate",this.$tdPro))},{slug:"external",icon:"svg-link-external",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].external,this.$t.__("External",this.$tdPro))},{slug:"link-suggestions",icon:"svg-link-suggestion",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].suggestionsOutbound+this.getLinksReportCounts[this.postIndex].suggestionsInbound,this.$t.__("Link Suggestions",this.$tdPro))}]}},methods:{...x("linkAssistant",["fetchLinksReportInner"]),fetchData(t){this.$bus.$emit("updatingLinks",!0);const e={...t,additionalFilters:{postId:this.post.ID,postIndex:this.postIndex,type:this.suggestionType}};return this.fetchLinksReportInner(e).finally(()=>{this.$bus.$emit("updatingLinks",!1)})},processChangeTab(t,e){this.activeTab=t,e&&(this.activeSuggestionTab=e)}},mounted(){this.initialActiveTab&&this.$nextTick(()=>{this.processChangeTab(this.initialActiveTab)})}},Qt={class:"links-report-inner"};function Xt(t,e,d,y,s,i){const I=o("svg-refresh"),$=o("base-button"),b=o("core-main-tabs"),T=o("link-assistant-outbound-internal"),v=o("link-assistant-inbound-internal"),g=o("link-assistant-affiliate"),h=o("link-assistant-external"),P=o("link-assistant-suggestions");return l(),R("div",Qt,[(l(),c(b,{class:"link-tabs",internal:"",key:s.tabsKey,tabs:i.tabs,active:s.activeTab,onChanged:e[0]||(e[0]=p=>i.processChangeTab(p))},{"var-tab-icon":a(({tab:p})=>[(l(),c(F(p.icon),{class:D([{warning:p.warning}])},null,8,["class"]))]),button:a(()=>[u($,{class:"button-refresh",type:"gray",size:"medium",loading:s.refreshLoading,disabled:t.isPrioritizedPost,onClick:t.doRefresh},{default:a(()=>[u(I),f(" "+r(s.strings.refresh),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["tabs","active"])),s.activeTab==="outbound-internal"?(l(),c(T,{key:0,post:d.post,postIndex:d.postIndex,postId:d.postId,linksReport:"",onOpenSuggestions:e[1]||(e[1]=p=>i.processChangeTab("link-suggestions","suggestions-outbound")),onLinksUpdated:e[2]||(e[2]=p=>s.tabsKey++)},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="inbound-internal"?(l(),c(v,{key:1,post:d.post,postIndex:d.postIndex,postId:d.postId,linksReport:"",onOpenSuggestions:e[3]||(e[3]=p=>i.processChangeTab("link-suggestions","suggestions-inbound")),onLinksUpdated:e[4]||(e[4]=p=>s.tabsKey++)},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="affiliate"?(l(),c(g,{key:2,post:d.post,postIndex:d.postIndex,postId:d.postId,onLinksUpdated:e[5]||(e[5]=p=>s.tabsKey++),linksReport:""},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="external"?(l(),c(h,{key:3,post:d.post,postIndex:d.postIndex,postId:d.postId,onLinksUpdated:e[6]||(e[6]=p=>s.tabsKey++),linksReport:""},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="link-suggestions"?(l(),c(P,{key:4,post:d.post,postIndex:d.postIndex,postId:d.postId,filteredSuggestionsOutbound:t.filteredSuggestionsOutbound(d.post),initialTab:s.activeSuggestionTab,linksReport:"",onShowStandalone:e[7]||(e[7]=p=>t.showStandalone=!0),onSuggestionsTabChanged:e[8]||(e[8]=p=>s.activeSuggestionTab=p),onLinksUpdated:e[9]||(e[9]=p=>s.tabsKey++)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):k("",!0)])}const Zt=S(Wt,[["render",Xt]]);const ts={mixins:[q,M,j],components:{CoreTooltip:G,CoreWpTable:N,LinkAssistantConfirmationModal:K,LinksReportInner:Zt,SvgCaret:st,SvgLinkAffiliate:U,SvgLinkExternal:B,SvgLinkInternalInbound:E,SvgLinkInternalOutbound:z,SvgLinkSuggestion:H},data(){return{tableId:"aioseo-link-assistant-links-report-wp-table",changeItemsPerPageSlug:"linkAssistantLinksReport",initialActiveTab:"inbound-internal",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,bulkAction:null,selectedFilters:{},additionalFilters:null,strings:{deleteAllLinks:this.$t.__("Delete All Links",this.$tdPro),inboundInternal:this.$t.sprintf(this.$t.__("%1$sInbound Internal Links%2$sLinks from other posts to this post",this.$tdPro),"<strong>","</strong><br />"),outboundInternal:this.$t.sprintf(this.$t.__("%1$sOutbound Internal Links%2$sLinks from this post to other posts",this.$tdPro),"<strong>","</strong><br />")},modalStrings:{areYouSureSingle:this.$t.__("Are you sure you want to delete all links for this post?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to delete all links",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},computed:{...L("linkAssistant",["linksReport"]),...Y("linkAssistant",["getLinksReportCounts"]),columns(){return[{slug:"post_title",label:this.$t.__("Post Title",this.$td),width:"100%"},{slug:"publish_date",label:this.$t.__("Publish Date",this.$td),width:"170px"},{slug:"internal",label:this.$t.__("Internal",this.$tdPro),width:"150px"},{slug:"affiliate",label:this.$t.__("Affiliate",this.$tdPro),width:"90px"},{slug:"external",label:this.$t.__("External",this.$tdPro),width:"90px"},{slug:"suggestions",label:this.$t.__("Suggestions",this.$tdPro),width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{...x("linkAssistant",{fetchData:"fetchLinksReport",linksReportDeleteAll:"linksReportDeleteAll",setLinksReportCounts:"setLinksReportCounts"}),getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,e,d,y){if(!d){this.initialActiveTab=t,e(y),this.toggleRow(y);return}if(this.initialActiveTab===t){e(y),this.toggleRow(y);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linksReport.rows[this.selectedRows].ID;if(t)return this.wpTableLoading=!0,this.linksReportDeleteAll({postId:t}).finally(()=>{this.activeRow=-1,this.wpTableKey++,this.refreshTable()})},processAdditionaFilterOptionSelected({name:t,selectedValue:e}){t==="post-type"&&(this.selectedFilters["post-type"]=e,this.selectedFilters.term="all"),this.additionalFilters=this.linksReport.additionalFilters.filter(d=>d.name==="post-type"||d.dependsOn&&this.selectedFilters["post-type"]===d.dependsOn.value)},resetSelectedFilters(){this.selectedFilters.term="all",this.selectedFilters["post-type"]="",this.processAdditionaFilterOptionSelected({name:"post-type",selectedValue:""})}},beforeMount(){this.additionalFilters=this.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters["post-type"]===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilterTable({slug:"all"});break;case"postTitle":this.searchTerm=this.$route.query.postTitle,this.processSearch();break;case"linkingOpportunities":this.processFilterTable({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilterTable({slug:"orphaned-posts"});break}}),this.setLinksReportCounts())}},ss={class:"aioseo-link-assistant-links-report"},es={class:"post-title"},ns=["onClick"],is={class:"row-actions"},os=["href"],as=["href"],ls=["onClick"],rs={class:"date"},ds={class:"internal-links-count"},ps=["onClick"],us={class:"aioseo-tooltip-wrapper"},hs=["innerHTML"],cs=["onClick"],gs={class:"aioseo-tooltip-wrapper"},ms=["innerHTML"],_s=["onClick"],ks=["onClick"],fs=["onClick"],bs=["onClick"];function vs(t,e,d,y,s,i){const I=o("svg-link-internal-inbound"),$=o("core-tooltip"),b=o("svg-link-internal-outbound"),T=o("svg-link-suggestion"),v=o("svg-link-affiliate"),g=o("svg-link-external"),h=o("svg-caret"),P=o("LinksReportInner"),p=o("core-wp-table"),w=o("link-assistant-confirmation-modal");return l(),R("div",ss,[(l(),c(p,{ref:"table",class:"posts-table",id:s.tableId,"additional-filters":s.additionalFilters,columns:i.columns,filters:t.linksReport.filters,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantLinksReport,"initial-page-number":t.pageNumber,"initial-search-term":t.searchTerm,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.linksReport.rows,"selected-filters":s.selectedFilters,"show-bulk-actions":!1,totals:t.linksReport.totals,"show-items-per-page":"",onAdditionalFilterOptionSelected:i.processAdditionaFilterOptionSelected,onFilterTable:t.processFilterTable,onPaginate:t.processPagination,onProcessAdditionalFilters:t.processAdditionalFilters,onProcessChangeItemsPerPage:t.processChangeItemsPerPage,onSearch:t.processSearch,onSortColumn:t.processSort},{post_title:a(({row:m,index:_,editRow:A})=>[n("div",es,[n("a",{href:"#",class:D({active:i.isRowActive(_)}),onClick:O(C=>{A(_),i.toggleRow(_)},["prevent"])},r(m.post_title),11,ns)]),n("div",is,[n("span",null,[n("a",{class:"view",href:m.context.permalink,target:"_blank"},[n("span",null,r(t.viewPost(m.context.postType.singular)),1)],8,os),f(" | ")]),n("span",null,[n("a",{class:"edit",href:m.context.editLink,target:"_blank"},[n("span",null,r(t.editPost(m.context.postType.singular)),1)],8,as),f(" | ")]),n("span",null,[n("a",{class:"delete-all-links",href:"#",onClick:O(C=>i.maybeDeleteAllLinks(_),["prevent"])},[n("span",null,r(s.strings.deleteAllLinks),1)],8,ls)])])]),publish_date:a(({row:m})=>[n("span",rs,r(t.dateSqlToLocal(m.post_date,"MMMM d, yyyy")),1)]),internal:a(({editRow:m,index:_,editRowActive:A})=>[n("div",ds,[n("div",{onClick:C=>i.maybeEditRow("inbound-internal",m,A,_)},[n("div",us,[u($,{class:"action"},{tooltip:a(()=>[n("span",{innerHTML:s.strings.inboundInternal},null,8,hs)]),default:a(()=>[u(I),n("span",null,r(t.$numbers.numberFormat(t.getLinksReportCounts[_].inboundInternal)),1)]),_:2},1024)])],8,ps),n("div",{onClick:C=>i.maybeEditRow("outbound-internal",m,A,_)},[n("div",gs,[u($,{class:"action"},{tooltip:a(()=>[n("span",{innerHTML:s.strings.outboundInternal},null,8,ms)]),default:a(()=>[u(b),n("span",null,r(t.$numbers.numberFormat(t.getLinksReportCounts[_].outboundInternal)),1)]),_:2},1024)])],8,cs)])]),suggestions:a(({editRow:m,index:_,editRowActive:A})=>[n("div",{onClick:C=>i.maybeEditRow("link-suggestions",m,A,_)},[u(T),f(" "+r(t.$numbers.numberFormat(t.getLinksReportCounts[_].suggestionsInbound+t.getLinksReportCounts[_].suggestionsOutbound)),1)],8,_s)]),affiliate:a(({editRow:m,index:_,editRowActive:A})=>[n("div",{onClick:C=>i.maybeEditRow("affiliate",m,A,_)},[u(v),f(" "+r(t.$numbers.numberFormat(t.getLinksReportCounts[_].affiliate)),1)],8,ks)]),external:a(({editRow:m,index:_,editRowActive:A})=>[n("div",{onClick:C=>i.maybeEditRow("external",m,A,_)},[u(g),f(" "+r(t.$numbers.numberFormat(t.getLinksReportCounts[_].external)),1)],8,fs)]),"toggle-button":a(({index:m,editRow:_})=>[n("button",{class:D(["toggle-row-button",{active:i.isRowActive(m)}]),onClick:A=>{_(m),i.toggleRow(m)}},[u(h)],10,bs)]),"edit-row":a(({row:m,index:_})=>[(l(),c(P,{key:s.innerTableKey,post:m,postIndex:_,postId:i.getPostId(m.ID),initialActiveTab:s.initialActiveTab},null,8,["post","postIndex","postId","initialActiveTab"]))]),_:1},8,["id","additional-filters","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","selected-filters","totals","onAdditionalFilterOptionSelected","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),s.showModal?(l(),c(w,{key:0,selectedRows:s.selectedRows,strings:s.modalStrings,onDoBulkAction:i.deleteAllLinks,onCloseModal:e[0]||(e[0]=m=>s.showModal=!1)},null,8,["selectedRows","strings","onDoBulkAction"])):k("",!0)])}const ys=S(ts,[["render",vs]]);const Is={emits:["updatingLinks"],components:{CoreMainTabs:et,LinkAssistantAffiliate:J,LinkAssistantExternal:W,LinkAssistantInboundInternal:Q,LinkAssistantOutboundInternal:X,LinkAssistantSuggestions:Z,SvgLinkAffiliate:U,SvgLinkExternal:B,SvgLinkInternalInbound:E,SvgLinkInternalOutbound:z,SvgLinkSuggestion:H,SvgRefresh:nt},mixins:[q,tt,it,M],data(){return{changeItemsPerPageSlug:"linkAssistantPostsReport",postId:null,postIndex:0,post:{},activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",refreshLoading:!1,loadTime:4,showLoadingBar:!1,loadingInitialData:!1,strings:{backToLinksReport:this.$t.__("Back to Links Report",this.$tdPro),loadingHeader:this.$t.__("Loading Link Suggestions. Please wait...",this.$tdPro),refresh:this.$t.__("Refresh",this.$tdPro)}}},computed:{...L("linkAssistant",["postReport"]),getPost(){return{...this.post,links:this.postReport}},header(){return this.$t.sprintf(this.$t.__('Internal Links & Suggestions for "%1$s"',this.$tdPro),this.post.context.postTitle)},tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.post.links.inboundInternal.totals.total,this.$t.__("Inbound Internal",this.$tdPro))},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.post.links.outboundInternal.totals.total,this.$t.__("Outbound Internal",this.$tdPro))},{slug:"affiliate",icon:"svg-link-affiliate",name:this.$t.sprintf("%1$s %2$s",this.post.links.affiliate.totals.total,this.$t.__("Affiliate",this.$tdPro))},{slug:"external",icon:"svg-link-external",name:this.$t.sprintf("%1$s %2$s",this.post.links.external.totals.total,this.$t.__("External",this.$tdPro))},{slug:"link-suggestions",icon:"svg-link-suggestion",name:this.$t.sprintf("%1$s %2$s",this.post.links.suggestionsOutbound.totals.total+this.post.links.suggestionsInbound.totals.total,this.$t.__("Link Suggestions",this.$tdPro))}]}},methods:{...x("linkAssistant",{fetchData:"fetchPostReport",linksRefresh:"linksRefresh"}),...V("linkAssistant",["setPostReportLinks","resetPostReportState"]),closePostReport(){this.$router.push({name:"links-report"})},processChangeTab(t,e){this.activeTab=t,e&&(this.activeSuggestionTab=e)},doRefresh(){this.refreshLoading=!0,this.$bus.$emit("updatingLinks",!0),this.linksRefresh({postIndex:this.postIndex,postId:this.post.ID,postReport:!0}).finally(()=>{this.refreshLoading=!1,this.$bus.$emit("updatingLinks",!1),this.refreshTable()})},checkProgress(){this.showLoadingBar=!1,this.loadingInitialData&&this.$nextTick(()=>{this.showLoadingBar=!0,2>this.loadTime&&(this.loadTime=4),this.loadTime=this.loadTime/2,setTimeout(this.checkProgress,this.loadTime*1e3)})}},beforeMount(){if(this.$route.query){if(!this.$route.query.postId){this.$router.push({name:"links-report"});return}this.postId=parseInt(this.$route.query.postId),this.postIndex=parseInt(this.$route.query.postIndex),this.activeTab=this.$route.query.initialTab,this.activeSuggestionTab=this.$route.query.initialSuggestionTab,this.post={ID:this.postId,context:{postType:{singular:null}},links:{...this.linkAssistant.postReport}}}},mounted(){this.resetPostReportState(),this.$bus.$emit("updatingLinks",!0),this.showLoadingBar=!0,this.loadingInitialData=!0,setTimeout(this.checkProgress,this.loadTime*1e3),this.filter="all",this.processFetchTableData({postId:this.postId}).then(t=>{t.body.links&&(this.post.links=t.body.links),t.body.context&&(this.post.context=t.body.context),this.setPostReportLinks({links:{...t.body.links}})}).catch(t=>{console.error(t),this.$router.push({name:"links-report"})}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.showLoadingBar=!1,this.loadingInitialData=!1})}},Ps={class:"aioseo-link-assistant-post-report"},ws={key:0,class:"header-container"},$s={class:"first-row"},Ts={class:"second-row"},Rs={class:"first-column"},As={class:"header"},Ss={key:1,class:"load-progress"},Ls={key:2,class:"header-container"},xs={class:"first-row"},Cs={class:"second-row"},Ds={class:"first-column"},Os={class:"header"},Ms={class:"actions"},Bs=["href"],Fs=["href"],Vs={class:"second-column"};function Ns(t,e,d,y,s,i){const I=o("svg-refresh"),$=o("base-button"),b=o("core-main-tabs"),T=o("link-assistant-outbound-internal"),v=o("link-assistant-inbound-internal"),g=o("link-assistant-affiliate"),h=o("link-assistant-external"),P=o("link-assistant-suggestions");return l(),R("div",Ps,[s.loadingInitialData?(l(),R("div",ws,[n("div",$s,[n("a",{href:"#",onClick:e[0]||(e[0]=O((...p)=>i.closePostReport&&i.closePostReport(...p),["stop","prevent"]))},[f(" ← "),n("span",null,r(s.strings.backToLinksReport),1)])]),n("div",Ts,[n("div",Rs,[n("span",As,r(s.strings.loadingHeader),1)])])])):k("",!0),s.showLoadingBar?(l(),R("div",Ss,[n("div",{class:"load-progress-value",style:at({animationDuration:s.loadTime+"s"})},null,4)])):k("",!0),s.loadingInitialData?k("",!0):(l(),R("div",Ls,[n("div",xs,[n("a",{href:"#",onClick:e[1]||(e[1]=O((...p)=>i.closePostReport&&i.closePostReport(...p),["prevent"]))},[f(" ← "),n("span",null,r(s.strings.backToLinksReport),1)])]),n("div",Cs,[n("div",Ds,[n("span",Os,r(i.header),1),n("div",Ms,[n("a",{class:"view-post-link",href:s.post.context.permalink,target:"_blank"},r(t.viewPost(s.post.context.postType.singular)),9,Bs),f(" | "),n("a",{class:"edit-post-link",href:s.post.context.editLink,target:"_blank"},r(t.editPost(s.post.context.postType.singular)),9,Fs)])]),n("div",Vs,[u($,{type:"blue",tag:"button",loading:s.refreshLoading,disabled:t.isPrioritizedPost,onClick:i.doRefresh},{default:a(()=>[u(I),f(" "+r(s.strings.refresh),1)]),_:1},8,["loading","disabled","onClick"])])])])),u(b,{class:"link-tabs",internal:"",tabs:i.tabs,active:s.activeTab,showSaveButton:!1,onChanged:e[2]||(e[2]=p=>i.processChangeTab(p))},{"var-tab-icon":a(({tab:p})=>[(l(),c(F(p.icon),{class:D([{warning:p.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),s.activeTab==="outbound-internal"?(l(),c(T,{key:3,post:i.getPost,postIndex:s.postIndex,postId:s.postId,postReport:"",onOpenSuggestions:e[3]||(e[3]=p=>i.processChangeTab("link-suggestions","suggestions-outbound"))},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="inbound-internal"?(l(),c(v,{key:4,post:i.getPost,postIndex:s.postIndex,postId:s.postId,postReport:"",onOpenSuggestions:e[4]||(e[4]=p=>i.processChangeTab("link-suggestions","suggestions-inbound"))},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="affiliate"?(l(),c(g,{key:5,post:i.getPost,postIndex:s.postIndex,postId:s.postId,postReport:""},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="external"?(l(),c(h,{key:6,post:i.getPost,postIndex:s.postIndex,postId:s.postId,postReport:""},null,8,["post","postIndex","postId"])):k("",!0),s.activeTab==="link-suggestions"?(l(),c(P,{key:7,post:i.getPost,postIndex:s.postIndex,postId:s.postId,filteredSuggestionsOutbound:t.filteredSuggestionsOutbound(s.post),initialTab:s.activeSuggestionTab,postReport:"",onShowStandalone:e[5]||(e[5]=p=>t.showStandalone=!0),onSuggestionsTabChanged:e[6]||(e[6]=p=>s.activeSuggestionTab=p)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):k("",!0)])}const qs=S(Is,[["render",Ns]]);const Ks={components:{BaseHighlightToggle:Pt,CoreAlert:_t,GridColumn:wt,GridRow:$t},props:{type:{type:String,required:!0},options:{type:Object,required:!0},registeredPostStatuses:{type:Object,default(){return this.$aioseo.postData}},excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:this.$t.__("Label:",this.$td),name:this.$t.__("Status:",this.$td),noPostStatuses:this.$t.__("No post statuses available.",this.$td),noTaxonomies:this.$t.__("No taxonomies available.",this.$td),noPostStatusesDescription:this.$t.__("All post statuses are set to noindex or your site does not have any post statuses registered that are supported by this feature.",this.$td),noTaxonomiesDescription:this.$t.__("All taxonomies are set to noindex or your site does not have any taxonomies registered that are supported by this feature.",this.$td)}}},computed:{postStatuses(){return this.registeredPostStatuses[this.type].filter(t=>!this.excluded.includes(t.status))}},methods:{emitInput(t){this.$emit("input",t)},updateValue(t,e){if(t){const y=this.options[this.type].included;y.push(e.status),this.options[this.type].included=y;return}const d=this.options[this.type].included.findIndex(y=>y===e.status);d!==-1&&this.options[this.type].included.splice(d,1)},getValue(t){return this.options[this.type].included.includes(t.status)},isActive(t){return this.options[this.type].included.findIndex(d=>d===t.status)!==-1}}},Us={class:"aioseo-post-status-options-toggle"},Es={class:"post-status-options-settings"};function zs(t,e,d,y,s,i){const I=o("core-alert"),$=o("base-highlight-toggle"),b=o("grid-column"),T=o("grid-row");return l(),R("div",Us,[n("div",Es,[i.postStatuses.length===0&&d.type==="postStatuses"?(l(),c(I,{key:0,type:"blue"},{default:a(()=>[n("strong",null,r(s.strings.noPostStatuses),1),f(" "+r(s.strings.noPostStatusesDescription),1)]),_:1})):k("",!0),i.postStatuses.length===0&&d.type==="taxonomies"?(l(),c(I,{key:1,type:"blue"},{default:a(()=>[n("strong",null,r(s.strings.noTaxonomies),1),f(" "+r(s.strings.noTaxonomiesDescription),1)]),_:1})):k("",!0),0<i.postStatuses.length?(l(),c(T,{key:2},{default:a(()=>[(l(!0),R(lt,null,rt(i.postStatuses,(v,g)=>(l(),c(b,{md:"6",key:g},{default:a(()=>[u($,{size:"medium",active:i.isActive(v),name:v.label,type:"checkbox",modelValue:i.getValue(v),"onUpdate:modelValue":h=>i.updateValue(h,v)},{default:a(()=>[f(r(v.label)+" ("+r(v.status)+") ",1)]),_:2},1032,["active","name","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):k("",!0)])])}const Hs=S(Ks,[["render",zs]]);const Ys={components:{BaseCheckbox:bt,BaseTextarea:vt,CoreCard:yt,CoreExcludePosts:It,CorePostStatusOptions:Hs,CorePostTypeOptions:Tt,CoreSettingsRow:Rt},mixins:[ft],data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:this.$t.__("Link Settings",this.$td),postTypes:this.$t.__("Post Types",this.$td),includeAllPostTypes:this.$t.__("Include All Post Types",this.$td),selectPostTypes:this.$t.__("Select which Post Types you want to enable Link Assistant for.",this.$td),postStatuses:this.$t.__("Post Statuses",this.$td),includeAllPostStatuses:this.$t.__("Include All Post Statuses",this.$td),selectPostStatuses:this.$t.__("Select which Post Statuses you want to enable Link Assistant for.",this.$td),skipSentences:this.$t.__("Number of Sentences to Skip at Beginning",this.$td),skipSentencesDescription:this.$t.sprintf(this.$t.__("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.",this.$tdPro),"AIOSEO"),affiliatePrefix:this.$t.__("Affiliate Link Prefix",this.$td),affiliatePrefixDescription:this.$t.sprintf(this.$t.__('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',this.$td),"AIOSEO"),excludePostsPages:this.$t.__("Exclude Posts / Pages",this.$td),wordsToIgnore:this.$t.__("Words to Ignore",this.$td)}}},computed:{...L({linkAssistantOptions:t=>t.linkAssistant.options.main})},methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantOptions.affiliatePrefix,this.$bus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantOptions.affiliatePrefix})}},js={class:"aioseo-link-assistant-settings"},Gs={class:"aioseo-description"},Js=["innerHTML"],Ws={class:"aioseo-description"},Qs=["innerHTML"],Xs={class:"aioseo-description"},Zs={class:"aioseo-description"};function te(t,e,d,y,s,i){const I=o("base-checkbox"),$=o("core-post-type-options"),b=o("core-settings-row"),T=o("core-post-status-options"),v=o("base-input"),g=o("base-select"),h=o("core-exclude-posts"),P=o("base-textarea"),p=o("core-card");return l(),R("div",js,[u(p,{slug:"linkAssistantSettings","header-text":s.strings.settings},{default:a(()=>[u(b,{name:s.strings.postTypes},{content:a(()=>[u(I,{size:"medium",modelValue:t.linkAssistantOptions.postTypes.all,"onUpdate:modelValue":e[0]||(e[0]=w=>t.linkAssistantOptions.postTypes.all=w)},{default:a(()=>[f(r(s.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"]),t.linkAssistantOptions.postTypes.all?k("",!0):(l(),c($,{key:0,id:"postTypes",options:t.linkAssistantOptions,excluded:["attachment"],type:"postTypes"},null,8,["options"])),n("div",Gs,[f(r(s.strings.selectPostTypes)+" ",1),n("span",{innerHTML:t.$links.getDocLink(t.$constants.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0)},null,8,Js)])]),_:1},8,["name"]),u(b,{name:s.strings.postStatuses},{content:a(()=>[u(I,{size:"medium",modelValue:t.linkAssistantOptions.postStatuses.all,"onUpdate:modelValue":e[1]||(e[1]=w=>t.linkAssistantOptions.postStatuses.all=w)},{default:a(()=>[f(r(s.strings.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),t.linkAssistantOptions.postStatuses.all?k("",!0):(l(),c(T,{key:0,id:"postStatuses",options:t.linkAssistantOptions,type:"postStatuses"},null,8,["options"])),n("div",Ws,[f(r(s.strings.selectPostStatuses)+" ",1),n("span",{innerHTML:t.$links.getDocLink(t.$constants.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0)},null,8,Qs)])]),_:1},8,["name"]),u(b,{name:s.strings.skipSentences,align:""},{content:a(()=>[u(v,{modelValue:t.linkAssistantOptions.skipSentences,"onUpdate:modelValue":e[2]||(e[2]=w=>t.linkAssistantOptions.skipSentences=w),class:"settings-skip-sentences",type:"number",size:"medium",min:0,onKeyup:e[3]||(e[3]=w=>i.validateSkipSentences(w))},null,8,["modelValue"]),n("div",Xs,r(s.strings.skipSentencesDescription),1)]),_:1},8,["name"]),u(b,{class:"affiliate-prefix",name:s.strings.affiliatePrefix,align:""},{content:a(()=>[u(g,{multiple:"",taggable:"",options:t.getJsonValue(t.linkAssistantOptions.affiliatePrefix)||[],modelValue:t.getJsonValue(t.linkAssistantOptions.affiliatePrefix)||[],"onUpdate:modelValue":e[4]||(e[4]=w=>t.linkAssistantOptions.affiliatePrefix=t.setJsonValue(w))},null,8,["options","modelValue"]),n("div",Zs,r(s.strings.affiliatePrefixDescription),1)]),_:1},8,["name"]),u(b,{name:s.strings.excludePostsPages,align:""},{content:a(()=>[u(h,{options:t.linkAssistantOptions,type:"posts"},null,8,["options"])]),_:1},8,["name"]),u(b,{name:s.strings.wordsToIgnore},{content:a(()=>[u(P,{minHeight:200,autosize:!1,modelValue:t.linkAssistantOptions.wordsToIgnore,"onUpdate:modelValue":e[5]||(e[5]=w=>t.linkAssistantOptions.wordsToIgnore=w)},null,8,["modelValue"])]),_:1},8,["name"])]),_:1},8,["header-text"])])}const se=S(Ys,[["render",te]]);const ee={components:{CoreMain:ut,CoreProcessingPopup:ht,DomainsReport:Jt,LinksReport:ys,Overview:kt,PostReport:qs,Settings:se},mixins:[pt,ot],data(){return{strings:{pageName:this.$t.__("Link Assistant",this.$td)}}},computed:{...L("linkAssistant",["suggestionsScan"]),excludedTabs(){const t=(this.$addons.isActive("aioseo-link-assistant")?this.getExcludedUpdateTabs("aioseo-link-assistant"):this.getExcludedActivationTabs("aioseo-link-assistant"))||[];return t.push("post-report"),t}},methods:{...V("linkAssistant",["toggleProcessingPopup"]),...x("linkAssistant",["pollSuggestionsScan","getMenuData"])},mounted(){this.$bus.$on("changes-saved",()=>{this.getMenuData()}),this.$isPro&&this.suggestionsScan.percent!==100&&this.$addons.isActive("aioseo-link-assistant")&&!this.$addons.requiresUpgrade("aioseo-link-assistant")&&this.$addons.hasMinimumVersion("aioseo-link-assistant")&&this.pollSuggestionsScan()}},ne={class:"aioseo-link-assistant"};function ie(t,e,d,y,s,i){const I=o("core-main");return l(),R("div",ne,[u(I,{"page-name":s.strings.pageName,"exclude-tabs":i.excludedTabs,showTabs:t.$route.name!=="post-report"},{default:a(()=>[(l(),c(F(t.$route.name)))]),_:1},8,["page-name","exclude-tabs","showTabs"])])}const kn=S(ee,[["render",ie]]);export{kn as default};
